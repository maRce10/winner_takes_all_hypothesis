<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marcelo Araya-Salas">
<meta name="dcterms.date" content="2024-07-08">

<title>Acoustic and statistical analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="acoustic_stats_analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="acoustic_stats_analysis_files/libs/quarto-html/quarto.js"></script>
<script src="acoustic_stats_analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="acoustic_stats_analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="acoustic_stats_analysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="acoustic_stats_analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="acoustic_stats_analysis_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="acoustic_stats_analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="acoustic_stats_analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="acoustic_stats_analysis_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="acoustic_stats_analysis_files/libs/quarto-diagram/mermaid.min.js"></script>
<script src="acoustic_stats_analysis_files/libs/quarto-diagram/mermaid-init.js"></script>
<link href="acoustic_stats_analysis_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="qmd.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#time-sync-all-replicates" id="toc-time-sync-all-replicates" class="nav-link active" data-scroll-target="#time-sync-all-replicates"><span class="header-section-number">1</span> Time sync all replicates</a></li>
  <li><a href="#measure-degradation" id="toc-measure-degradation" class="nav-link" data-scroll-target="#measure-degradation"><span class="header-section-number">2</span> Measure degradation</a>
  <ul class="collapse">
  <li><a href="#using-1-m-reference" id="toc-using-1-m-reference" class="nav-link" data-scroll-target="#using-1-m-reference"><span class="header-section-number">2.1</span> Using 1 m reference</a></li>
  <li><a href="#using-3-m-reference" id="toc-using-3-m-reference" class="nav-link" data-scroll-target="#using-3-m-reference"><span class="header-section-number">2.2</span> Using 3 m reference</a></li>
  </ul></li>
  <li><a href="#stats" id="toc-stats" class="nav-link" data-scroll-target="#stats"><span class="header-section-number">3</span> Stats</a>
  <ul class="collapse">
  <li><a href="#m-reference" id="toc-m-reference" class="nav-link" data-scroll-target="#m-reference"><span class="header-section-number">3.1</span> 3 m reference</a></li>
  <li><a href="#m-reference-1" id="toc-m-reference-1" class="nav-link" data-scroll-target="#m-reference-1"><span class="header-section-number">3.2</span> 1 m reference</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Acoustic and statistical analysis</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">Winner takes all acoustic adapation</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://marce10.github.io/">Marcelo Araya-Salas</a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 8, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Source code and data found at <a href="https://github.com/maRce10/winner_takes_all_hypothesis">https://github.com/maRce10/winner_takes_all_hypothesis</a></p>
<!-- skyblue box -->
<section id="purpose" class="level1 unnumbered unlisted alert alert-info">
<h1 class="unnumbered unlisted">Purpose</h1>
<ul>
<li><p>Measure degradation on re-recorded files</p></li>
<li><p>Run stats</p></li>
</ul>
</section>
<p>&nbsp;</p>
<section id="analysis-flowchart" class="level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Analysis flowchart</h1>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart
  A[Time sync files] --&gt; B(Measure degradation) 
  B --&gt; C(Regression models)
  C --&gt; D(Model selection)

style A fill:#44015466
style B fill:#3E4A894D
style C fill:#26828E4D
style D fill:#6DCD594D

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="load-packages" class="level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Load packages</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># knitr is require for creating html/pdf/word reports formatR is</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># used for soft-wrapping code</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install/ load packages</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>sketchy<span class="sc">::</span><span class="fu">load_packages</span>(<span class="at">packages =</span> <span class="fu">c</span>(<span class="st">"knitr"</span>, <span class="st">"formatR"</span>, <span class="st">"baRulho"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"viridis"</span>, <span class="st">"warbleR"</span>, <span class="st">"Rraven"</span>, <span class="st">"brms"</span>, <span class="st">"ggplot2"</span>, <span class="st">"corrplot"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"emmeans"</span>, <span class="st">"ggsignif"</span>, <span class="st">"lme4"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="time-sync-all-replicates" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Time sync all replicates</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>metadata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/raw/metadata_playback_experiments.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>master.sf <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/processed/master_annotations.csv"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># remove bird songs</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>master.sf <span class="ot">&lt;-</span> master.sf[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>(<span class="fu">grep</span>(<span class="st">"Haemorhous"</span>, master.sf<span class="sc">$</span>orig.sound.file)[<span class="dv">1</span>] <span class="sc">-</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>), <span class="fu">nrow</span>(master.sf)), ]</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># rename sound file</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.files <span class="ot">&lt;-</span> <span class="st">"consolidated_master_only_synthetic.wav"</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.id <span class="ot">&lt;-</span> <span class="fu">paste</span>(master.sf<span class="sc">$</span>orig.sound.file, <span class="fu">seq_len</span>(<span class="fu">nrow</span>(master.sf)),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.id[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"start_marker"</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.id[<span class="fu">nrow</span>(master.sf)] <span class="ot">&lt;-</span> <span class="st">"end_marker"</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>start[master.sf<span class="sc">$</span>sound.id <span class="sc">==</span> <span class="st">"end_marker"</span>] <span class="ot">&lt;-</span> <span class="fl">194.074</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>end[master.sf<span class="sc">$</span>sound.id <span class="sc">==</span> <span class="st">"end_marker"</span>] <span class="ot">&lt;-</span> <span class="fl">194.931</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="fu">exp_raven</span>(master.sf, <span class="at">path =</span> <span class="st">"./data/raw"</span>, <span class="at">file.name =</span> <span class="st">"master_annotations"</span>,</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">sound.file.path =</span> <span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>found.starts <span class="ot">&lt;-</span> baRulho<span class="sc">::</span><span class="fu">find_markers</span>(<span class="at">X =</span> master.sf, <span class="at">markers =</span> <span class="fu">c</span>(<span class="st">"start_marker"</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"end_marker"</span>), <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>, <span class="at">cores =</span> <span class="dv">3</span>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>warbleR<span class="sc">::</span><span class="fu">info_sound_files</span>(<span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">align_test_files</span>(<span class="at">X =</span> master.sf, <span class="at">Y =</span> found.starts, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">by.song =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[<span class="sc">!</span>(alg.tests<span class="sc">$</span>sound.files <span class="sc">%in%</span> <span class="st">"ZOOM0012_Tr2.WAV"</span> <span class="sc">&amp;</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    alg.tests<span class="sc">$</span>selec <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>), ]</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>row <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(alg.tests)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[<span class="sc">!</span>alg.tests<span class="sc">$</span>row <span class="sc">%in%</span> <span class="dv">13469</span><span class="sc">:</span><span class="dv">13486</span>, ]</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="fu">exp_raven</span>(alg.tests, <span class="at">path =</span> <span class="st">"./data/processed"</span>, <span class="at">file.name =</span> <span class="st">"check_alignment"</span>,</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">sound.file.path =</span> <span class="st">"./data/raw/recordings"</span>, <span class="at">single.file =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">"baRulho"</span>)<span class="sc">$</span>files_to_check_align_test_files</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>cs <span class="ot">&lt;-</span> <span class="fu">check_sels</span>(alg.tests, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests<span class="sc">$</span>sound.files)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">manual_realign</span>(<span class="at">X =</span> alg.tests, <span class="at">Y =</span> master.sf, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>,</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">flim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="at">marker =</span> <span class="st">"end_marker"</span>)</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="co"># add metadata</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>metadata<span class="sc">$</span>transect.id <span class="ot">&lt;-</span> <span class="fu">paste</span>(metadata<span class="sc">$</span>habitat.type, metadata<span class="sc">$</span>transect..,</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>transect <span class="ot">&lt;-</span> <span class="fu">sapply</span>(alg.tests<span class="sc">$</span>sound.files, <span class="cf">function</span>(x) metadata<span class="sc">$</span>transect.id[metadata<span class="sc">$</span>sound.file.name <span class="sc">==</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>    x][<span class="dv">1</span>])</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>distance <span class="ot">&lt;-</span> <span class="fu">sapply</span>(alg.tests<span class="sc">$</span>sound.files, <span class="cf">function</span>(x) metadata<span class="sc">$</span>distance.from.signal..m.[metadata<span class="sc">$</span>sound.file.name <span class="sc">==</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>    x][<span class="dv">1</span>])</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">sapply</span>(alg.tests<span class="sc">$</span>sound.files, <span class="cf">function</span>(x) metadata<span class="sc">$</span>habitat.type[metadata<span class="sc">$</span>sound.file.name <span class="sc">==</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    x][<span class="dv">1</span>])</span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a><span class="co"># remove markers</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[<span class="fu">grep</span>(<span class="st">"marker"</span>, alg.tests<span class="sc">$</span>sound.id, <span class="at">invert =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">selection_table</span>(alg.tests, <span class="at">extended =</span> <span class="cn">TRUE</span>, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(alg.tests.est, <span class="st">"./data/raw/extended_selection_table_rerecorded_sounds.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="measure-degradation" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Measure degradation</h1>
<section id="using-1-m-reference" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="using-1-m-reference"><span class="header-section-number">2.1</span> Using 1 m reference</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"../data/processed/extended_selection_table_rerecorded_sounds.RDS"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>sound.id)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>distance)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># remove 3 m distance</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[alg.tests.est<span class="sc">$</span>distance <span class="sc">!=</span> <span class="dv">3</span>, ]</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only not harm</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[<span class="fu">grep</span>(<span class="st">"no.harm"</span>, alg.tests.est<span class="sc">$</span>sound.id),</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>alg.tests.est</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">resample_est</span>(alg.tests.est, <span class="at">samp.rate =</span> <span class="fl">22.05</span>, <span class="at">parallel =</span> cores)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(alg.tests.est, <span class="st">"./data/raw/extended_selection_table_subset_resampled_rerecorded_sounds.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/processed/extended_selection_table_subset_resampled_rerecorded_sounds.RDS"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">set_reference_sounds</span>(alg.tests.est)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># run blur ratio</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># run Spectrum blur ratio</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">excess_attenuation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">envelope_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># run spectrum correlation</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># run signal to noise ratio</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">signal_to_noise_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to noise ratio</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">tsr.formula =</span> <span class="dv">2</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(alg.tests.est)[<span class="fu">ncol</span>(alg.tests.est)] <span class="ot">&lt;-</span> <span class="st">"tail.to.noise.ratio"</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to signal ratio</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores,</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">tsr.formula =</span> <span class="dv">1</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="co"># run spcc</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/baRulho/R/spcc.R"</span>)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/cross_correlation.R"</span>)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/internal_functions.R"</span>)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spcc</span>(<span class="at">X =</span> alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>af <span class="ot">&lt;-</span> <span class="fu">spectro_analysis</span>(alg.tests.est, <span class="at">parallel =</span> cores)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>alg.tests.est<span class="sc">$</span>peak.frequency <span class="ot">&lt;-</span> af<span class="sc">$</span>meanpeakf</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(alg.tests.est)</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[alg.tests<span class="sc">$</span>distance <span class="sc">&gt;</span> <span class="dv">3</span>, ]</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(alg.tests, <span class="st">"./data/processed/degradation_metrics.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="using-3-m-reference" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="using-3-m-reference"><span class="header-section-number">2.2</span> Using 3 m reference</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/raw/extended_selection_table_rerecorded_sounds.RDS"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>sound.id)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>distance)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># remove 3 m distance</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[alg.tests.est<span class="sc">$</span>distance <span class="sc">!=</span> <span class="dv">1</span>, ]</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only not harm</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[<span class="fu">grep</span>(<span class="st">"no.harm"</span>, alg.tests.est<span class="sc">$</span>sound.id),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>alg.tests.est</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">resample_est</span>(alg.tests.est, <span class="at">samp.rate =</span> <span class="fl">22.05</span>, <span class="at">parallel =</span> cores)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(alg.tests.est, <span class="st">"./data/raw/extended_selection_table_subset_resampled_rerecorded_sounds_3m_reference.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/raw/extended_selection_table_subset_resampled_rerecorded_sounds_3m_reference.RDS"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">set_reference_sounds</span>(alg.tests.est)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># run blur ratio</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># run Spectrum blur ratio</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">excess_attenuation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">envelope_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co"># run spectrum correlation</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co"># run signal to noise ratio</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">signal_to_noise_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to noise ratio</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores,</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">tsr.formula =</span> <span class="dv">2</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(alg.tests.est)[<span class="fu">ncol</span>(alg.tests.est)] <span class="ot">&lt;-</span> <span class="st">"tail.to.noise.ratio"</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to signal ratio</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">tsr.formula =</span> <span class="dv">1</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co"># run spcc</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/baRulho/R/spcc.R"</span>)</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/cross_correlation.R"</span>)</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/internal_functions.R"</span>)</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spcc</span>(<span class="at">X =</span> alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>af <span class="ot">&lt;-</span> <span class="fu">spectro_analysis</span>(alg.tests.est, <span class="at">parallel =</span> cores)</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>alg.tests.est<span class="sc">$</span>peak.frequency <span class="ot">&lt;-</span> af<span class="sc">$</span>meanpeakf</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(alg.tests.est)</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[alg.tests<span class="sc">$</span>distance <span class="sc">&gt;</span> <span class="dv">3</span>, ]</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(alg.tests, <span class="st">"./data/processed/degradation_metrics_3m_reference.csv"</span>,</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="stats" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Stats</h1>
<section id="m-reference" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="m-reference"><span class="header-section-number">3.1</span> 3 m reference</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>degrad_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/processed/degradation_metrics_3m_reference.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>degrad_measures <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"blur.ratio"</span>, <span class="st">"spectrum.blur.ratio"</span>, <span class="st">"excess.attenuation"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"envelope.correlation"</span>, <span class="st">"spectrum.correlation"</span>, <span class="st">"signal.to.noise.ratio"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tail.to.noise.ratio"</span>, <span class="st">"tail.to.signal.ratio"</span>, <span class="st">"cross.correlation"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(degrad_dat[, degrad_measures], <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>pca</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Standard deviations (1, .., p=9):
[1] 1.90254087 1.23406748 1.05767232 0.96094375 0.81099019 0.77943774 0.65255706
[8] 0.35182717 0.02215169

Rotation (n x k) = (9 x 9):
                              PC1        PC2        PC3         PC4         PC5
blur.ratio            -0.38584352  0.4454554  0.1408459  0.07278180 -0.15297841
spectrum.blur.ratio   -0.26149531 -0.1171658 -0.5124751  0.29086176 -0.54901906
excess.attenuation     0.05008437 -0.1443058  0.5829738  0.78625810 -0.04791866
envelope.correlation   0.40765310 -0.4020505 -0.0043749 -0.01956126  0.16817677
spectrum.correlation   0.24302112  0.2529869  0.4591970 -0.41022995 -0.24998952
signal.to.noise.ratio  0.42603788  0.4123951 -0.1657305  0.17942614 -0.12046982
tail.to.noise.ratio    0.24794848  0.5396357 -0.2859322  0.29228796  0.43123030
tail.to.signal.ratio  -0.41172943 -0.1002677 -0.0307314  0.01079424  0.61725322
cross.correlation      0.37747633 -0.2646517 -0.2379579  0.07407219 -0.02504419
                              PC6          PC7          PC8           PC9
blur.ratio            -0.21953606 -0.246507788  0.703700901  0.0000399136
spectrum.blur.ratio    0.51326657  0.046448169  0.060322037  0.0006602391
excess.attenuation     0.09101454 -0.045505686 -0.077156802  0.0018217444
envelope.correlation   0.18907061  0.347081726  0.698051334 -0.0002179129
spectrum.correlation   0.62525759 -0.210376231 -0.009351723  0.0006262140
signal.to.noise.ratio -0.09582457  0.137918139 -0.020653657  0.7386598209
tail.to.noise.ratio    0.26046319  0.001696522 -0.003024023 -0.4757234210
tail.to.signal.ratio   0.40585439 -0.211454158  0.029453354  0.4775611497
cross.correlation     -0.10789694 -0.840562118  0.080912202 -0.0002191684</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                          PC1    PC2    PC3    PC4     PC5    PC6     PC7
Standard deviation     1.9025 1.2341 1.0577 0.9609 0.81099 0.7794 0.65256
Proportion of Variance 0.4022 0.1692 0.1243 0.1026 0.07308 0.0675 0.04731
Cumulative Proportion  0.4022 0.5714 0.6957 0.7983 0.87137 0.9389 0.98619
                           PC8     PC9
Standard deviation     0.35183 0.02215
Proportion of Variance 0.01375 0.00005
Cumulative Proportion  0.99995 1.00000</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>degrad.pc1 <span class="ot">&lt;-</span> pca<span class="sc">$</span>x[, <span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"BB"</span>, degrad_dat<span class="sc">$</span>sound.id),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"fm"</span>, <span class="st">"no.fm"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>amplitude.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"_am"</span>, degrad_dat<span class="sc">$</span>sound.id),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"am"</span>, <span class="st">"no.am"</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>duration <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"0.1"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"short"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"long"</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency <span class="ot">&lt;-</span> degrad_dat<span class="sc">$</span>peak.frequency</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>peak.frequency <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>sim_candidates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.5</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sim.frequency <span class="ot">&lt;-</span> <span class="fu">sapply</span>(degrad_dat<span class="sc">$</span>frequency, <span class="cf">function</span>(x) sim_candidates[<span class="fu">which.min</span>(<span class="fu">abs</span>(sim_candidates <span class="sc">-</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    x))])</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sound.treatment <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">strsplit</span>(degrad_dat<span class="sc">$</span>sound.id,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">".wav"</span>), <span class="st">"[["</span>, <span class="dv">1</span>)</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>distance_f <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">as.character</span>(degrad_dat<span class="sc">$</span>distance),</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"10"</span>, <span class="st">"30"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="co"># iter &lt;- 5000 chains &lt;- 4 priors &lt;- c(prior(normal(0, 6), class</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="co"># = 'b')) set.seed(123) mod &lt;- brm(degrad.pc1 ~ frequency *</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="co"># habitat.type + duration * habitat.type + frequency.modulation</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="co"># * habitat.type + amplitude.modulation * habitat.type + (1 |</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co"># transect) + mo(distance_f), data = degrad_dat, prior = priors,</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="co"># iter = iter, chains = chains, cores = chains, control =</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="co"># list(adapt_delta = 0.99, max_treedepth = 15), file =</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="co"># './data/processed/global_regression_model_int_all_data.RDS',</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="co"># file_refit = 'always' )</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> duration <span class="sc">*</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    habitat.type <span class="sc">+</span> frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span> amplitude.modulation <span class="sc">*</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>    habitat.type <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> duration <span class="sc">*</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    habitat.type <span class="sc">+</span> frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span> amplitude.modulation <span class="sc">*</span></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    habitat.type <span class="sc">+</span> distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>no_int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">+</span> duration <span class="sc">+</span> frequency.modulation <span class="sc">+</span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>    amplitude.modulation <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">+</span> duration <span class="sc">+</span> frequency.modulation <span class="sc">+</span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>    amplitude.modulation <span class="sc">+</span> distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment) <span class="sc">+</span></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> distance_f), <span class="at">data =</span> degrad_dat)</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>aic_tab_3m <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int_mod, int2_mod, no_int_mod, no_int2_mod, null_mod)</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>aic_tab_3m<span class="sc">$</span>delta_aic <span class="ot">&lt;-</span> aic_tab_3m<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab_3m<span class="sc">$</span>AIC)</span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>aic_tab_3m <span class="ot">&lt;-</span> aic_tab_3m[<span class="fu">order</span>(aic_tab_3m<span class="sc">$</span>delta_aic), ]</span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>aic_tab_3m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">delta_aic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">int2_mod</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">28855.92</td>
<td style="text-align: right;">0.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">int_mod</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">28859.54</td>
<td style="text-align: right;">3.618538</td>
</tr>
<tr class="odd">
<td style="text-align: left;">no_int2_mod</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">29294.23</td>
<td style="text-align: right;">438.313225</td>
</tr>
<tr class="even">
<td style="text-align: left;">no_int_mod</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">29297.85</td>
<td style="text-align: right;">441.931358</td>
</tr>
<tr class="odd">
<td style="text-align: left;">null_mod</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">29367.40</td>
<td style="text-align: right;">511.481858</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="m-reference-1" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="m-reference-1"><span class="header-section-number">3.2</span> 1 m reference</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>degrad_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/processed/degradation_metrics.csv"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>degrad_measures <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"blur.ratio"</span>, <span class="st">"spectrum.blur.ratio"</span>, <span class="st">"excess.attenuation"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"envelope.correlation"</span>, <span class="st">"spectrum.correlation"</span>, <span class="st">"signal.to.noise.ratio"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"tail.to.noise.ratio"</span>, <span class="st">"tail.to.signal.ratio"</span>, <span class="st">"cross.correlation"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="descriptive-stats" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="descriptive-stats"><span class="header-section-number">3.2.1</span> Descriptive stats</h3>
<p>Total test sounds: 8606</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>agg <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(selec <span class="sc">~</span> habitat.type <span class="sc">+</span> distance, degrad_dat, length)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>agg<span class="sc">$</span>bytran <span class="ot">&lt;-</span> <span class="fu">round</span>(agg<span class="sc">$</span>selec<span class="sc">/</span><span class="dv">3</span>, <span class="dv">0</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(agg) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"habitat type"</span>, <span class="st">"distance"</span>, <span class="st">"total test sounds"</span>, <span class="st">"sounds per transect"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>agg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">habitat type</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">total test sounds</th>
<th style="text-align: right;">sounds per transect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">open garden</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1423</td>
<td style="text-align: right;">474</td>
</tr>
<tr class="even">
<td style="text-align: left;">primary</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1440</td>
<td style="text-align: right;">480</td>
</tr>
<tr class="odd">
<td style="text-align: left;">secondary</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1440</td>
<td style="text-align: right;">480</td>
</tr>
<tr class="even">
<td style="text-align: left;">open garden</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">1423</td>
<td style="text-align: right;">474</td>
</tr>
<tr class="odd">
<td style="text-align: left;">primary</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">1440</td>
<td style="text-align: right;">480</td>
</tr>
<tr class="even">
<td style="text-align: left;">secondary</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">1440</td>
<td style="text-align: right;">480</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="pca" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="pca"><span class="header-section-number">3.2.2</span> PCA</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(degrad_dat[, degrad_measures], <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>pca</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Standard deviations (1, .., p=9):
[1] 1.87106419 1.28111213 1.03849658 0.97642327 0.81453877 0.78553515 0.64309840
[8] 0.36247468 0.02215037

Rotation (n x k) = (9 x 9):
                              PC1        PC2         PC3         PC4
blur.ratio            -0.38687277  0.4253466 -0.01727961  0.21079248
spectrum.blur.ratio   -0.22439458 -0.2229048  0.61540649  0.04112823
excess.attenuation     0.06067722 -0.2494158 -0.16337169  0.94447354
envelope.correlation   0.41853010 -0.3671890 -0.06155544 -0.07294015
spectrum.correlation   0.24114246  0.2694327 -0.52449798 -0.09284097
signal.to.noise.ratio  0.43149099  0.3861170  0.24836751  0.12727115
tail.to.noise.ratio    0.24511723  0.4979228  0.42536797  0.15910046
tail.to.signal.ratio  -0.42292300 -0.1009215  0.04000932 -0.04195785
cross.correlation      0.37127736 -0.3042451  0.26678396 -0.06807099
                              PC5         PC6         PC7           PC8
blur.ratio            -0.11045918 -0.25450581 -0.24089938 -0.6997642631
spectrum.blur.ratio   -0.66865558  0.17157338  0.20327040 -0.0410687209
excess.attenuation    -0.02184109  0.08222851 -0.02685763  0.0861785996
envelope.correlation   0.12757045  0.18084213  0.38721872 -0.6942470095
spectrum.correlation  -0.58425413  0.46994837 -0.15237219 -0.0108002795
signal.to.noise.ratio -0.03857702 -0.14756291  0.12601133  0.0456180038
tail.to.noise.ratio    0.26780290  0.43302209  0.01381100 -0.0005273182
tail.to.signal.ratio   0.32858613  0.65869315 -0.18123365 -0.0696225651
cross.correlation     -0.03766865 -0.04809244 -0.82332038 -0.1104194143
                                PC9
blur.ratio             0.0008441413
spectrum.blur.ratio    0.0008019984
excess.attenuation     0.0016765357
envelope.correlation   0.0003257433
spectrum.correlation   0.0006800811
signal.to.noise.ratio  0.7386622573
tail.to.noise.ratio   -0.4757331210
tail.to.signal.ratio   0.4775471883
cross.correlation     -0.0001226832</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                         PC1    PC2    PC3    PC4     PC5     PC6     PC7
Standard deviation     1.871 1.2811 1.0385 0.9764 0.81454 0.78554 0.64310
Proportion of Variance 0.389 0.1824 0.1198 0.1059 0.07372 0.06856 0.04595
Cumulative Proportion  0.389 0.5714 0.6912 0.7971 0.87083 0.93939 0.98535
                          PC8     PC9
Standard deviation     0.3625 0.02215
Proportion of Variance 0.0146 0.00005
Cumulative Proportion  1.0000 1.00000</code></pre>
</div>
</div>
</section>
<section id="model-selection" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="model-selection"><span class="header-section-number">3.2.3</span> Model selection</h3>
<section id="all-interactions" class="level4" data-number="3.2.3.1">
<h4 data-number="3.2.3.1" class="anchored" data-anchor-id="all-interactions"><span class="header-section-number">3.2.3.1</span> All interactions</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>degrad.pc1 <span class="ot">&lt;-</span> pca<span class="sc">$</span>x[, <span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"BB"</span>, degrad_dat<span class="sc">$</span>sound.id),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"+"</span>, <span class="st">"-"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>amplitude.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"_am"</span>, degrad_dat<span class="sc">$</span>sound.id),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"+"</span>, <span class="st">"-"</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>duration <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"0.1"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"Short"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Long"</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency <span class="ot">&lt;-</span> degrad_dat<span class="sc">$</span>peak.frequency</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"primary"</span>, <span class="st">"Primary</span><span class="sc">\n</span><span class="st">forest"</span>, degrad_dat<span class="sc">$</span>habitat.type)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"secondary"</span>, <span class="st">"Secondary</span><span class="sc">\n</span><span class="st">forest"</span>,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    degrad_dat<span class="sc">$</span>habitat.type)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"open garden"</span>, <span class="st">"Open</span><span class="sc">\n</span><span class="st">habitat"</span>, degrad_dat<span class="sc">$</span>habitat.type)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>sim_candidates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.5</span>)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sim.frequency <span class="ot">&lt;-</span> <span class="fu">sapply</span>(degrad_dat<span class="sc">$</span>frequency, <span class="cf">function</span>(x) sim_candidates[<span class="fu">which.min</span>(<span class="fu">abs</span>(sim_candidates <span class="sc">-</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    x))])</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sound.treatment <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">strsplit</span>(degrad_dat<span class="sc">$</span>sound.id,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">".wav"</span>), <span class="st">"[["</span>, <span class="dv">1</span>)</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sound.treatment <span class="ot">&lt;-</span> <span class="fu">paste</span>(degrad_dat<span class="sc">$</span>sim.frequency, degrad_dat<span class="sc">$</span>sound.treatment,</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>distance_f <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">as.character</span>(degrad_dat<span class="sc">$</span>distance),</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"10"</span>, <span class="st">"30"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a><span class="co"># iter &lt;- 5000 chains &lt;- 4 priors &lt;- c(prior(normal(0, 6), class</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a><span class="co"># = 'b')) set.seed(123) mod &lt;- brm(degrad.pc1 ~ frequency *</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="co"># habitat.type + duration * habitat.type + frequency.modulation</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a><span class="co"># * habitat.type + amplitude.modulation * habitat.type + (1 |</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a><span class="co"># transect) + mo(distance_f), data = degrad_dat, prior = priors,</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a><span class="co"># iter = iter, chains = chains, cores = chains, control =</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a><span class="co"># list(adapt_delta = 0.99, max_treedepth = 15), file =</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a><span class="co"># './data/processed/global_regression_model_int_all_data.RDS',</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a><span class="co"># file_refit = 'always' )</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>plot_mod <span class="ot">&lt;-</span> int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>    duration <span class="sc">*</span> habitat.type <span class="sc">+</span> frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>    amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment) <span class="sc">+</span></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> distance_f), <span class="at">data =</span> degrad_dat)</span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> duration <span class="sc">*</span></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a>    habitat.type <span class="sc">+</span> frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span> amplitude.modulation <span class="sc">*</span></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a>    habitat.type <span class="sc">+</span> distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a>no_int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">+</span> duration <span class="sc">+</span> frequency.modulation <span class="sc">+</span></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a>    amplitude.modulation <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">+</span> duration <span class="sc">+</span> frequency.modulation <span class="sc">+</span></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a>    amplitude.modulation <span class="sc">+</span> distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment) <span class="sc">+</span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> distance_f), <span class="at">data =</span> degrad_dat)</span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int_mod, int2_mod, no_int_mod, no_int2_mod, null_mod)</span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a>aic_tab2 <span class="ot">&lt;-</span> aic_tab[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), ]</span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a>aic_tab2<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab2) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a>aic_tab2[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">model</th>
<th style="text-align: right;">delta_AIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interaction</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">No interaction</td>
<td style="text-align: right;">150.7755</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Null</td>
<td style="text-align: right;">411.6193</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="each-predictor-separately" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="each-predictor-separately"><span class="header-section-number">3.2.4</span> Each predictor separately</h3>
<section id="frequency" class="level4" data-number="3.2.4.1">
<h4 data-number="3.2.4.1" class="anchored" data-anchor-id="frequency"><span class="header-section-number">3.2.4.1</span> Frequency</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> distance_f <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency <span class="sc">+</span> distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">model</th>
<th style="text-align: right;">delta_AIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interaction</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">No interaction</td>
<td style="text-align: right;">121.6874</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Null</td>
<td style="text-align: right;">5953.3762</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="frequency-modulation" class="level4" data-number="3.2.4.2">
<h4 data-number="3.2.4.2" class="anchored" data-anchor-id="frequency-modulation"><span class="header-section-number">3.2.4.2</span> Frequency modulation</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> frequency.modulation <span class="sc">+</span> distance_f <span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">model</th>
<th style="text-align: right;">delta_AIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interaction</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">No interaction</td>
<td style="text-align: right;">20.1444</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Null</td>
<td style="text-align: right;">6113.4418</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="amplitude-modulation" class="level4" data-number="3.2.4.3">
<h4 data-number="3.2.4.3" class="anchored" data-anchor-id="amplitude-modulation"><span class="header-section-number">3.2.4.3</span> Amplitude modulation</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> amplitude.modulation <span class="sc">+</span> distance_f <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">model</th>
<th style="text-align: right;">delta_AIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interaction</td>
<td style="text-align: right;">0.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">No interaction</td>
<td style="text-align: right;">3.555273</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Null</td>
<td style="text-align: right;">5856.433678</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="duration" class="level4" data-number="3.2.4.4">
<h4 data-number="3.2.4.4" class="anchored" data-anchor-id="duration"><span class="header-section-number">3.2.4.4</span> Duration</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> duration <span class="sc">*</span> habitat.type <span class="sc">+</span> distance_f <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment), <span class="at">data =</span> degrad_dat)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> duration <span class="sc">+</span> distance_f <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> transect<span class="sc">/</span>sound.treatment),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> degrad_dat)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">model</th>
<th style="text-align: right;">delta_AIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interaction</td>
<td style="text-align: right;">0.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">No interaction</td>
<td style="text-align: right;">3.779739</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Null</td>
<td style="text-align: right;">5835.047190</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with a sequence of frequency values for</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># each habitat type</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">frequency =</span> <span class="fu">seq</span>(<span class="fu">min</span>(degrad_dat<span class="sc">$</span>frequency),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">max</span>(degrad_dat<span class="sc">$</span>frequency), <span class="at">length.out =</span> <span class="dv">300</span>), <span class="at">habitat.type =</span> <span class="fu">unique</span>(degrad_dat<span class="sc">$</span>habitat.type),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">frequency.modulation =</span> <span class="fu">c</span>(<span class="st">"+"</span>, <span class="st">"-"</span>), <span class="at">amplitude.modulation =</span> <span class="fu">c</span>(<span class="st">"+"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"-"</span>), <span class="at">duration =</span> <span class="fu">c</span>(<span class="st">"Short"</span>, <span class="st">"Long"</span>))</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict degrad.pc1 using the model for each combination of</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># frequency and habitat.type</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>new_data<span class="sc">$</span>degrad.pc1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(plot_mod, <span class="at">newdata =</span> new_data, <span class="at">re.form =</span> <span class="cn">NA</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">x =</span> frequency, <span class="at">y =</span> degrad.pc1, <span class="at">color =</span> habitat.type,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> habitat.type)) <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Frequency"</span>, <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Habitat type"</span>, <span class="at">fill =</span> <span class="st">"Habitat type"</span>) <span class="sc">+</span> <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="acoustic_stats_analysis_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">color =</span> frequency.modulation, <span class="at">y =</span> degrad.pc1,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> habitat.type, <span class="at">fill =</span> habitat.type)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">guide =</span> <span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>, <span class="at">fill =</span> <span class="st">"Frequency</span><span class="sc">\n</span><span class="st">modulation"</span>, <span class="at">color =</span> <span class="st">"Frequency</span><span class="sc">\n</span><span class="st">modulation"</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="acoustic_stats_analysis_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">color =</span> amplitude.modulation, <span class="at">y =</span> degrad.pc1,</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> habitat.type, <span class="at">fill =</span> habitat.type)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">guide =</span> <span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>, <span class="at">fill =</span> <span class="st">"Amplitude</span><span class="sc">\n</span><span class="st">modulation"</span>, <span class="at">color =</span> <span class="st">"Amplitude</span><span class="sc">\n</span><span class="st">modulation"</span>) <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="acoustic_stats_analysis_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">color =</span> duration, <span class="at">y =</span> degrad.pc1, <span class="at">x =</span> habitat.type,</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> habitat.type)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">scale_color_grey</span>() <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">guide =</span> <span class="cn">NULL</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>, <span class="at">fill =</span> <span class="st">"Duration"</span>, <span class="at">color =</span> <span class="st">"Duration"</span>) <span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="acoustic_stats_analysis_files/figure-html/unnamed-chunk-16-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="takeaways" class="level1 unnumbered unlisted alert alert-success">
<h1 class="unnumbered unlisted">Takeaways</h1>
</section>
<p>&nbsp;</p>
<!-- '---' adds a gray vertical line -->
<hr>
<p>&nbsp;</p>
<p><!-- add packages used, system details and versions  --></p>
<section id="session-information" class="level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Session information</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.2 (2023-10-31)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 22.04.2 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.0 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: America/Costa_Rica
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] lme4_1.1-35.3      Matrix_1.6-5       ggsignif_0.6.4     emmeans_1.9.0     
 [5] corrplot_0.92      ggplot2_3.5.1      brms_2.21.0        Rcpp_1.0.12       
 [9] Rraven_1.0.13      viridis_0.6.5      viridisLite_0.4.2  baRulho_2.1.1     
[13] ohun_1.0.2         warbleR_1.1.30     NatureSounds_1.0.4 seewave_2.2.3     
[17] tuneR_1.4.7        formatR_1.14       knitr_1.48        

loaded via a namespace (and not attached):
  [1] DBI_1.2.3            bitops_1.0-7         pbapply_1.7-2       
  [4] gridExtra_2.3        remotes_2.5.0        inline_0.3.19       
  [7] testthat_3.2.1.1     sandwich_3.1-0       rlang_1.1.4         
 [10] magrittr_2.0.3       multcomp_1.4-25      matrixStats_1.3.0   
 [13] e1071_1.7-14         compiler_4.3.2       mgcv_1.8-39         
 [16] loo_2.7.0            png_0.1-8            vctrs_0.6.5         
 [19] Sim.DiffProc_4.9     stringr_1.5.1        pkgconfig_2.0.3     
 [22] crayon_1.5.3         fastmap_1.2.0        backports_1.5.0     
 [25] labeling_0.4.3       utf8_1.2.4           rmarkdown_2.27      
 [28] nloptr_2.0.3         xfun_0.45            jsonlite_1.8.8      
 [31] Deriv_4.1.3          parallel_4.3.2       R6_2.5.1            
 [34] stringi_1.8.4        StanHeaders_2.32.9   boot_1.3-28         
 [37] brio_1.1.5           estimability_1.4.1   rstan_2.32.6        
 [40] zoo_1.8-12           bayesplot_1.11.1     splines_4.3.2       
 [43] igraph_2.0.3         tidyselect_1.2.1     rstudioapi_0.16.0   
 [46] abind_1.4-5          yaml_2.3.9           dtw_1.23-1          
 [49] codetools_0.2-18     curl_5.2.0           pkgbuild_1.4.4      
 [52] lattice_0.20-45      tibble_3.2.1         withr_3.0.0         
 [55] bridgesampling_1.1-2 posterior_1.5.0      coda_0.19-4.1       
 [58] evaluate_0.24.0      signal_1.8-1         survival_3.2-13     
 [61] sf_1.0-16            sketchy_1.0.3        units_0.8-5         
 [64] proxy_0.4-27         RcppParallel_5.1.7   pillar_1.9.0        
 [67] tensorA_0.36.2.1     packrat_0.9.2        KernSmooth_2.23-20  
 [70] checkmate_2.3.1      stats4_4.3.2         distributional_0.4.0
 [73] generics_0.1.3       RCurl_1.98-1.14      rstantools_2.4.0    
 [76] munsell_0.5.1        scales_1.3.0         minqa_1.2.7         
 [79] xtable_1.8-4         class_7.3-20         glue_1.7.0          
 [82] tools_4.3.2          xaringanExtra_0.7.0  mvtnorm_1.2-5       
 [85] grid_4.3.2           QuickJSR_1.2.2       colorspace_2.1-0    
 [88] nlme_3.1-155         cli_3.6.3            fansi_1.0.6         
 [91] Brobdingnag_1.2-9    dplyr_1.1.4          V8_4.4.2            
 [94] gtable_0.3.5         fftw_1.0-8           digest_0.6.36       
 [97] classInt_0.4-10      TH.data_1.1-2        farver_2.1.2        
[100] rjson_0.2.21         htmlwidgets_1.6.4    htmltools_0.5.8.1   
[103] lifecycle_1.0.4      MASS_7.3-55         </code></pre>
</div>
</div>
<!-- -->

</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb28" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Acoustic and statistical analysis</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> Winner takes all acoustic adapation</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> &lt;a href="https://marce10.github.io/"&gt;Marcelo Araya-Salas&lt;/a&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "`r Sys.Date()`"</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="an">toc-depth:</span><span class="co"> 2</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="an">highlight-style:</span><span class="co"> pygments</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: kable</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="co">    css: qmd.css</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="in">```{r set root directory, echo = FALSE}</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a><span class="in"># set working directory </span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_knit$set(root.dir =  "..")</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add link to github repo, echo = FALSE, results='asis'}</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a><span class="in"># print link to github repo if any</span></span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a><span class="in">if (file.exists("./.git/config")){</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a><span class="in">  config &lt;- readLines("./.git/config")</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a><span class="in">  url &lt;- grep("url",  config, value = TRUE)</span></span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a><span class="in">  url &lt;- gsub("\\turl = |.git$", "", url)</span></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nSource code and data found at [", url, "](", url, ")", sep = "")</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup style, echo = FALSE, message = FALSE, warning=FALSE}</span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a><span class="in"># options to customize chunk outputs</span></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a><span class="in">  tidy.opts = list(width.cutoff = 65), </span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a><span class="in">  tidy = TRUE,</span></span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a><span class="in">  message = FALSE</span></span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a><span class="in"> )</span></span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- skyblue box --&gt;</span></span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-info}</span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a><span class="fu"># Purpose {.unnumbered .unlisted}</span></span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Measure degradation on re-recorded files</span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Run stats</span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a><span class="dv">&amp;nbsp;</span> </span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-69"><a href="#cb28-69" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis flowchart {.unnumbered .unlisted}</span></span>
<span id="cb28-70"><a href="#cb28-70" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid, fig.align = "center"}</span></span>
<span id="cb28-71"><a href="#cb28-71" aria-hidden="true" tabindex="-1"></a><span class="in">flowchart</span></span>
<span id="cb28-72"><a href="#cb28-72" aria-hidden="true" tabindex="-1"></a><span class="in">  A[Time sync files] --&gt; B(Measure degradation) </span></span>
<span id="cb28-73"><a href="#cb28-73" aria-hidden="true" tabindex="-1"></a><span class="in">  B --&gt; C(Regression models)</span></span>
<span id="cb28-74"><a href="#cb28-74" aria-hidden="true" tabindex="-1"></a><span class="in">  C --&gt; D(Model selection)</span></span>
<span id="cb28-75"><a href="#cb28-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-76"><a href="#cb28-76" aria-hidden="true" tabindex="-1"></a><span class="in">style A fill:#44015466</span></span>
<span id="cb28-77"><a href="#cb28-77" aria-hidden="true" tabindex="-1"></a><span class="in">style B fill:#3E4A894D</span></span>
<span id="cb28-78"><a href="#cb28-78" aria-hidden="true" tabindex="-1"></a><span class="in">style C fill:#26828E4D</span></span>
<span id="cb28-79"><a href="#cb28-79" aria-hidden="true" tabindex="-1"></a><span class="in">style D fill:#6DCD594D</span></span>
<span id="cb28-80"><a href="#cb28-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-81"><a href="#cb28-81" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-82"><a href="#cb28-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-83"><a href="#cb28-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-84"><a href="#cb28-84" aria-hidden="true" tabindex="-1"></a><span class="fu"># Load packages {.unnumbered .unlisted}</span></span>
<span id="cb28-85"><a href="#cb28-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-86"><a href="#cb28-86" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load packages}</span></span>
<span id="cb28-87"><a href="#cb28-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-88"><a href="#cb28-88" aria-hidden="true" tabindex="-1"></a><span class="in"># knitr is require for creating html/pdf/word reports</span></span>
<span id="cb28-89"><a href="#cb28-89" aria-hidden="true" tabindex="-1"></a><span class="in"># formatR is used for soft-wrapping code</span></span>
<span id="cb28-90"><a href="#cb28-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-91"><a href="#cb28-91" aria-hidden="true" tabindex="-1"></a><span class="in"># install/ load packages</span></span>
<span id="cb28-92"><a href="#cb28-92" aria-hidden="true" tabindex="-1"></a><span class="in">sketchy::load_packages(</span></span>
<span id="cb28-93"><a href="#cb28-93" aria-hidden="true" tabindex="-1"></a><span class="in">    packages = c(</span></span>
<span id="cb28-94"><a href="#cb28-94" aria-hidden="true" tabindex="-1"></a><span class="in">        "knitr",</span></span>
<span id="cb28-95"><a href="#cb28-95" aria-hidden="true" tabindex="-1"></a><span class="in">        "formatR",</span></span>
<span id="cb28-96"><a href="#cb28-96" aria-hidden="true" tabindex="-1"></a><span class="in">        "baRulho",</span></span>
<span id="cb28-97"><a href="#cb28-97" aria-hidden="true" tabindex="-1"></a><span class="in">        "viridis",</span></span>
<span id="cb28-98"><a href="#cb28-98" aria-hidden="true" tabindex="-1"></a><span class="in">        "warbleR",</span></span>
<span id="cb28-99"><a href="#cb28-99" aria-hidden="true" tabindex="-1"></a><span class="in">        "Rraven",</span></span>
<span id="cb28-100"><a href="#cb28-100" aria-hidden="true" tabindex="-1"></a><span class="in">        "brms",</span></span>
<span id="cb28-101"><a href="#cb28-101" aria-hidden="true" tabindex="-1"></a><span class="in">        "ggplot2",</span></span>
<span id="cb28-102"><a href="#cb28-102" aria-hidden="true" tabindex="-1"></a><span class="in">        "corrplot",</span></span>
<span id="cb28-103"><a href="#cb28-103" aria-hidden="true" tabindex="-1"></a><span class="in">        "emmeans",</span></span>
<span id="cb28-104"><a href="#cb28-104" aria-hidden="true" tabindex="-1"></a><span class="in">        "ggsignif",</span></span>
<span id="cb28-105"><a href="#cb28-105" aria-hidden="true" tabindex="-1"></a><span class="in">        "lme4"</span></span>
<span id="cb28-106"><a href="#cb28-106" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb28-107"><a href="#cb28-107" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb28-108"><a href="#cb28-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-109"><a href="#cb28-109" aria-hidden="true" tabindex="-1"></a><span class="fu"># Time sync all replicates</span></span>
<span id="cb28-110"><a href="#cb28-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-113"><a href="#cb28-113" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-114"><a href="#cb28-114" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb28-115"><a href="#cb28-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-116"><a href="#cb28-116" aria-hidden="true" tabindex="-1"></a>metadata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/raw/metadata_playback_experiments.csv"</span>)</span>
<span id="cb28-117"><a href="#cb28-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-118"><a href="#cb28-118" aria-hidden="true" tabindex="-1"></a>master.sf <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/processed/master_annotations.csv"</span>)</span>
<span id="cb28-119"><a href="#cb28-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-120"><a href="#cb28-120" aria-hidden="true" tabindex="-1"></a><span class="co"># remove bird songs</span></span>
<span id="cb28-121"><a href="#cb28-121" aria-hidden="true" tabindex="-1"></a>master.sf <span class="ot">&lt;-</span> master.sf[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>(<span class="fu">grep</span>(<span class="st">"Haemorhous"</span>, master.sf<span class="sc">$</span>orig.sound.file)[<span class="dv">1</span>] <span class="sc">-</span> <span class="dv">1</span>), <span class="fu">nrow</span>(master.sf)), ]</span>
<span id="cb28-122"><a href="#cb28-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-123"><a href="#cb28-123" aria-hidden="true" tabindex="-1"></a><span class="co"># rename sound file</span></span>
<span id="cb28-124"><a href="#cb28-124" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.files <span class="ot">&lt;-</span> <span class="st">"consolidated_master_only_synthetic.wav"</span></span>
<span id="cb28-125"><a href="#cb28-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-126"><a href="#cb28-126" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.id <span class="ot">&lt;-</span> <span class="fu">paste</span>(master.sf<span class="sc">$</span>orig.sound.file, <span class="fu">seq_len</span>(<span class="fu">nrow</span>(master.sf)),</span>
<span id="cb28-127"><a href="#cb28-127" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb28-128"><a href="#cb28-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-129"><a href="#cb28-129" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.id[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"start_marker"</span></span>
<span id="cb28-130"><a href="#cb28-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-131"><a href="#cb28-131" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>sound.id[<span class="fu">nrow</span>(master.sf)] <span class="ot">&lt;-</span> <span class="st">"end_marker"</span></span>
<span id="cb28-132"><a href="#cb28-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-133"><a href="#cb28-133" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>start[master.sf<span class="sc">$</span>sound.id <span class="sc">==</span> <span class="st">"end_marker"</span>] <span class="ot">&lt;-</span> <span class="fl">194.074</span></span>
<span id="cb28-134"><a href="#cb28-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-135"><a href="#cb28-135" aria-hidden="true" tabindex="-1"></a>master.sf<span class="sc">$</span>end[master.sf<span class="sc">$</span>sound.id <span class="sc">==</span> <span class="st">"end_marker"</span>] <span class="ot">&lt;-</span> <span class="fl">194.931</span></span>
<span id="cb28-136"><a href="#cb28-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-137"><a href="#cb28-137" aria-hidden="true" tabindex="-1"></a><span class="fu">exp_raven</span>(master.sf, <span class="at">path =</span> <span class="st">"./data/raw"</span>, <span class="at">file.name =</span> <span class="st">"master_annotations"</span>,</span>
<span id="cb28-138"><a href="#cb28-138" aria-hidden="true" tabindex="-1"></a>    <span class="at">sound.file.path =</span> <span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb28-139"><a href="#cb28-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-140"><a href="#cb28-140" aria-hidden="true" tabindex="-1"></a>found.starts <span class="ot">&lt;-</span> baRulho<span class="sc">::</span><span class="fu">find_markers</span>(<span class="at">X =</span> master.sf, <span class="at">markers =</span> <span class="fu">c</span>(<span class="st">"start_marker"</span>, <span class="st">"end_marker"</span>), <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>, <span class="at">cores =</span> <span class="dv">3</span>)</span>
<span id="cb28-141"><a href="#cb28-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-142"><a href="#cb28-142" aria-hidden="true" tabindex="-1"></a>warbleR<span class="sc">::</span><span class="fu">info_sound_files</span>(<span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb28-143"><a href="#cb28-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-144"><a href="#cb28-144" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">align_test_files</span>(<span class="at">X =</span> master.sf, <span class="at">Y =</span> found.starts, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>,</span>
<span id="cb28-145"><a href="#cb28-145" aria-hidden="true" tabindex="-1"></a>    <span class="at">by.song =</span> <span class="cn">FALSE</span>)</span>
<span id="cb28-146"><a href="#cb28-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-147"><a href="#cb28-147" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[<span class="sc">!</span>(alg.tests<span class="sc">$</span>sound.files <span class="sc">%in%</span> <span class="st">"ZOOM0012_Tr2.WAV"</span> <span class="sc">&amp;</span> alg.tests<span class="sc">$</span>selec <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">18</span>), ]</span>
<span id="cb28-148"><a href="#cb28-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-149"><a href="#cb28-149" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>row <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(alg.tests)</span>
<span id="cb28-150"><a href="#cb28-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-151"><a href="#cb28-151" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[<span class="sc">!</span>alg.tests<span class="sc">$</span>row <span class="sc">%in%</span> <span class="dv">13469</span><span class="sc">:</span><span class="dv">13486</span>,]</span>
<span id="cb28-152"><a href="#cb28-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-153"><a href="#cb28-153" aria-hidden="true" tabindex="-1"></a><span class="fu">exp_raven</span>(alg.tests, <span class="at">path =</span> <span class="st">"./data/processed"</span>, <span class="at">file.name =</span> <span class="st">"check_alignment"</span>, <span class="at">sound.file.path =</span> <span class="st">"./data/raw/recordings"</span>, <span class="at">single.file =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-154"><a href="#cb28-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-155"><a href="#cb28-155" aria-hidden="true" tabindex="-1"></a><span class="fu">getOption</span>(<span class="st">'baRulho'</span>)<span class="sc">$</span>files_to_check_align_test_files</span>
<span id="cb28-156"><a href="#cb28-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-157"><a href="#cb28-157" aria-hidden="true" tabindex="-1"></a>cs <span class="ot">&lt;-</span> <span class="fu">check_sels</span>(alg.tests, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb28-158"><a href="#cb28-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-159"><a href="#cb28-159" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests<span class="sc">$</span>sound.files)</span>
<span id="cb28-160"><a href="#cb28-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-161"><a href="#cb28-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-162"><a href="#cb28-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-163"><a href="#cb28-163" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">manual_realign</span>(<span class="at">X =</span> alg.tests, <span class="at">Y =</span> master.sf, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>, <span class="at">flim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="at">marker =</span> <span class="st">"end_marker"</span>)</span>
<span id="cb28-164"><a href="#cb28-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-165"><a href="#cb28-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-166"><a href="#cb28-166" aria-hidden="true" tabindex="-1"></a><span class="co"># add metadata</span></span>
<span id="cb28-167"><a href="#cb28-167" aria-hidden="true" tabindex="-1"></a>metadata<span class="sc">$</span>transect.id <span class="ot">&lt;-</span> <span class="fu">paste</span>(metadata<span class="sc">$</span>habitat.type, metadata<span class="sc">$</span>transect.., <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb28-168"><a href="#cb28-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-169"><a href="#cb28-169" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>transect <span class="ot">&lt;-</span> <span class="fu">sapply</span>(alg.tests<span class="sc">$</span>sound.files, <span class="cf">function</span>(x) metadata<span class="sc">$</span>transect.id[metadata<span class="sc">$</span>sound.file.name <span class="sc">==</span> x][<span class="dv">1</span>])</span>
<span id="cb28-170"><a href="#cb28-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-171"><a href="#cb28-171" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>distance <span class="ot">&lt;-</span> <span class="fu">sapply</span>(alg.tests<span class="sc">$</span>sound.files, <span class="cf">function</span>(x) metadata<span class="sc">$</span>distance.from.signal..m.[metadata<span class="sc">$</span>sound.file.name <span class="sc">==</span> x][<span class="dv">1</span>])</span>
<span id="cb28-172"><a href="#cb28-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-173"><a href="#cb28-173" aria-hidden="true" tabindex="-1"></a>alg.tests<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">sapply</span>(alg.tests<span class="sc">$</span>sound.files, <span class="cf">function</span>(x) metadata<span class="sc">$</span>habitat.type[metadata<span class="sc">$</span>sound.file.name <span class="sc">==</span> x][<span class="dv">1</span>])</span>
<span id="cb28-174"><a href="#cb28-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-175"><a href="#cb28-175" aria-hidden="true" tabindex="-1"></a><span class="co"># remove markers</span></span>
<span id="cb28-176"><a href="#cb28-176" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[<span class="fu">grep</span>(<span class="st">"marker"</span>, alg.tests<span class="sc">$</span>sound.id,</span>
<span id="cb28-177"><a href="#cb28-177" aria-hidden="true" tabindex="-1"></a> <span class="at">invert =</span> <span class="cn">TRUE</span>), ]</span>
<span id="cb28-178"><a href="#cb28-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-179"><a href="#cb28-179" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">selection_table</span>(alg.tests, <span class="at">extended =</span> <span class="cn">TRUE</span>, <span class="at">path =</span> <span class="st">"./data/raw/recordings"</span>)</span>
<span id="cb28-180"><a href="#cb28-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-181"><a href="#cb28-181" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(alg.tests.est, <span class="st">"./data/raw/extended_selection_table_rerecorded_sounds.RDS"</span>)</span>
<span id="cb28-182"><a href="#cb28-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-183"><a href="#cb28-183" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-184"><a href="#cb28-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-185"><a href="#cb28-185" aria-hidden="true" tabindex="-1"></a><span class="fu"># Measure degradation</span></span>
<span id="cb28-186"><a href="#cb28-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-187"><a href="#cb28-187" aria-hidden="true" tabindex="-1"></a><span class="fu">## Using 1 m reference</span></span>
<span id="cb28-190"><a href="#cb28-190" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-191"><a href="#cb28-191" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb28-192"><a href="#cb28-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-193"><a href="#cb28-193" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"../data/processed/extended_selection_table_rerecorded_sounds.RDS"</span>)</span>
<span id="cb28-194"><a href="#cb28-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-195"><a href="#cb28-195" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>sound.id) </span>
<span id="cb28-196"><a href="#cb28-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-197"><a href="#cb28-197" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>distance)</span>
<span id="cb28-198"><a href="#cb28-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-199"><a href="#cb28-199" aria-hidden="true" tabindex="-1"></a><span class="co"># remove 3 m distance</span></span>
<span id="cb28-200"><a href="#cb28-200" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[alg.tests.est<span class="sc">$</span>distance <span class="sc">!=</span> <span class="dv">3</span>, ]</span>
<span id="cb28-201"><a href="#cb28-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-202"><a href="#cb28-202" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only not harm </span></span>
<span id="cb28-203"><a href="#cb28-203" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[<span class="fu">grep</span>(<span class="st">"no.harm"</span>, alg.tests.est<span class="sc">$</span>sound.id), ]</span>
<span id="cb28-204"><a href="#cb28-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-205"><a href="#cb28-205" aria-hidden="true" tabindex="-1"></a>alg.tests.est</span>
<span id="cb28-206"><a href="#cb28-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-207"><a href="#cb28-207" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb28-208"><a href="#cb28-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-209"><a href="#cb28-209" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">resample_est</span>(alg.tests.est, <span class="at">samp.rate =</span> <span class="fl">22.05</span>, <span class="at">parallel =</span> cores)</span>
<span id="cb28-210"><a href="#cb28-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-211"><a href="#cb28-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-212"><a href="#cb28-212" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(alg.tests.est, <span class="st">"./data/raw/extended_selection_table_subset_resampled_rerecorded_sounds.RDS"</span>)</span>
<span id="cb28-213"><a href="#cb28-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-214"><a href="#cb28-214" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-215"><a href="#cb28-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-218"><a href="#cb28-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-219"><a href="#cb28-219" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb28-220"><a href="#cb28-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-221"><a href="#cb28-221" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/processed/extended_selection_table_subset_resampled_rerecorded_sounds.RDS"</span>)</span>
<span id="cb28-222"><a href="#cb28-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-223"><a href="#cb28-223" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">set_reference_sounds</span>(alg.tests.est)</span>
<span id="cb28-224"><a href="#cb28-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-225"><a href="#cb28-225" aria-hidden="true" tabindex="-1"></a><span class="co"># run blur ratio</span></span>
<span id="cb28-226"><a href="#cb28-226" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-227"><a href="#cb28-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-228"><a href="#cb28-228" aria-hidden="true" tabindex="-1"></a><span class="co"># run Spectrum blur ratio</span></span>
<span id="cb28-229"><a href="#cb28-229" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-230"><a href="#cb28-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-231"><a href="#cb28-231" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb28-232"><a href="#cb28-232" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">excess_attenuation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-233"><a href="#cb28-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-234"><a href="#cb28-234" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb28-235"><a href="#cb28-235" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">envelope_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-236"><a href="#cb28-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-237"><a href="#cb28-237" aria-hidden="true" tabindex="-1"></a><span class="co"># run spectrum correlation</span></span>
<span id="cb28-238"><a href="#cb28-238" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-239"><a href="#cb28-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-240"><a href="#cb28-240" aria-hidden="true" tabindex="-1"></a><span class="co"># run signal to noise ratio</span></span>
<span id="cb28-241"><a href="#cb28-241" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">signal_to_noise_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb28-242"><a href="#cb28-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-243"><a href="#cb28-243" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to noise ratio</span></span>
<span id="cb28-244"><a href="#cb28-244" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores, <span class="at">tsr.formula =</span> <span class="dv">2</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb28-245"><a href="#cb28-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-246"><a href="#cb28-246" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(alg.tests.est)[<span class="fu">ncol</span>(alg.tests.est)] <span class="ot">&lt;-</span> <span class="st">"tail.to.noise.ratio"</span></span>
<span id="cb28-247"><a href="#cb28-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-248"><a href="#cb28-248" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to signal ratio</span></span>
<span id="cb28-249"><a href="#cb28-249" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores, <span class="at">tsr.formula =</span> <span class="dv">1</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb28-250"><a href="#cb28-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-251"><a href="#cb28-251" aria-hidden="true" tabindex="-1"></a><span class="co"># run spcc</span></span>
<span id="cb28-252"><a href="#cb28-252" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/baRulho/R/spcc.R"</span>)</span>
<span id="cb28-253"><a href="#cb28-253" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/cross_correlation.R"</span>)</span>
<span id="cb28-254"><a href="#cb28-254" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/internal_functions.R"</span>)</span>
<span id="cb28-255"><a href="#cb28-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-256"><a href="#cb28-256" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spcc</span>(<span class="at">X =</span> alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-257"><a href="#cb28-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-258"><a href="#cb28-258" aria-hidden="true" tabindex="-1"></a>af <span class="ot">&lt;-</span> <span class="fu">spectro_analysis</span>(alg.tests.est, <span class="at">parallel =</span> cores)</span>
<span id="cb28-259"><a href="#cb28-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-260"><a href="#cb28-260" aria-hidden="true" tabindex="-1"></a>alg.tests.est<span class="sc">$</span>peak.frequency <span class="ot">&lt;-</span> af<span class="sc">$</span>meanpeakf</span>
<span id="cb28-261"><a href="#cb28-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-262"><a href="#cb28-262" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(alg.tests.est)</span>
<span id="cb28-263"><a href="#cb28-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-264"><a href="#cb28-264" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[alg.tests<span class="sc">$</span>distance <span class="sc">&gt;</span> <span class="dv">3</span>, ]</span>
<span id="cb28-265"><a href="#cb28-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-266"><a href="#cb28-266" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(alg.tests, <span class="st">"./data/processed/degradation_metrics.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb28-267"><a href="#cb28-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-268"><a href="#cb28-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-269"><a href="#cb28-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-270"><a href="#cb28-270" aria-hidden="true" tabindex="-1"></a><span class="fu">## Using 3 m reference</span></span>
<span id="cb28-273"><a href="#cb28-273" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-274"><a href="#cb28-274" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb28-275"><a href="#cb28-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-276"><a href="#cb28-276" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/raw/extended_selection_table_rerecorded_sounds.RDS"</span>)</span>
<span id="cb28-277"><a href="#cb28-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-278"><a href="#cb28-278" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>sound.id) </span>
<span id="cb28-279"><a href="#cb28-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-280"><a href="#cb28-280" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(alg.tests.est<span class="sc">$</span>distance)</span>
<span id="cb28-281"><a href="#cb28-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-282"><a href="#cb28-282" aria-hidden="true" tabindex="-1"></a><span class="co"># remove 3 m distance</span></span>
<span id="cb28-283"><a href="#cb28-283" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[alg.tests.est<span class="sc">$</span>distance <span class="sc">!=</span> <span class="dv">1</span>, ]</span>
<span id="cb28-284"><a href="#cb28-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-285"><a href="#cb28-285" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only not harm </span></span>
<span id="cb28-286"><a href="#cb28-286" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> alg.tests.est[<span class="fu">grep</span>(<span class="st">"no.harm"</span>, alg.tests.est<span class="sc">$</span>sound.id), ]</span>
<span id="cb28-287"><a href="#cb28-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-288"><a href="#cb28-288" aria-hidden="true" tabindex="-1"></a>alg.tests.est</span>
<span id="cb28-289"><a href="#cb28-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-290"><a href="#cb28-290" aria-hidden="true" tabindex="-1"></a>cores <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb28-291"><a href="#cb28-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-292"><a href="#cb28-292" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">resample_est</span>(alg.tests.est, <span class="at">samp.rate =</span> <span class="fl">22.05</span>, <span class="at">parallel =</span> cores)</span>
<span id="cb28-293"><a href="#cb28-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-294"><a href="#cb28-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-295"><a href="#cb28-295" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(alg.tests.est, <span class="st">"./data/raw/extended_selection_table_subset_resampled_rerecorded_sounds_3m_reference.RDS"</span>)</span>
<span id="cb28-296"><a href="#cb28-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-297"><a href="#cb28-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-298"><a href="#cb28-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-301"><a href="#cb28-301" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-302"><a href="#cb28-302" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb28-303"><a href="#cb28-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-304"><a href="#cb28-304" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"./data/raw/extended_selection_table_subset_resampled_rerecorded_sounds_3m_reference.RDS"</span>)</span>
<span id="cb28-305"><a href="#cb28-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-306"><a href="#cb28-306" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">set_reference_sounds</span>(alg.tests.est)</span>
<span id="cb28-307"><a href="#cb28-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-308"><a href="#cb28-308" aria-hidden="true" tabindex="-1"></a><span class="co"># run blur ratio</span></span>
<span id="cb28-309"><a href="#cb28-309" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-310"><a href="#cb28-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-311"><a href="#cb28-311" aria-hidden="true" tabindex="-1"></a><span class="co"># run Spectrum blur ratio</span></span>
<span id="cb28-312"><a href="#cb28-312" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_blur_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-313"><a href="#cb28-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-314"><a href="#cb28-314" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb28-315"><a href="#cb28-315" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">excess_attenuation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-316"><a href="#cb28-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-317"><a href="#cb28-317" aria-hidden="true" tabindex="-1"></a><span class="co"># run envelope correlation</span></span>
<span id="cb28-318"><a href="#cb28-318" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">envelope_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-319"><a href="#cb28-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-320"><a href="#cb28-320" aria-hidden="true" tabindex="-1"></a><span class="co"># run spectrum correlation</span></span>
<span id="cb28-321"><a href="#cb28-321" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spectrum_correlation</span>(alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-322"><a href="#cb28-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-323"><a href="#cb28-323" aria-hidden="true" tabindex="-1"></a><span class="co"># run signal to noise ratio</span></span>
<span id="cb28-324"><a href="#cb28-324" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">signal_to_noise_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb28-325"><a href="#cb28-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-326"><a href="#cb28-326" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to noise ratio</span></span>
<span id="cb28-327"><a href="#cb28-327" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores, <span class="at">tsr.formula =</span> <span class="dv">2</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb28-328"><a href="#cb28-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-329"><a href="#cb28-329" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(alg.tests.est)[<span class="fu">ncol</span>(alg.tests.est)] <span class="ot">&lt;-</span> <span class="st">"tail.to.noise.ratio"</span></span>
<span id="cb28-330"><a href="#cb28-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-331"><a href="#cb28-331" aria-hidden="true" tabindex="-1"></a><span class="co"># run tail to signal ratio</span></span>
<span id="cb28-332"><a href="#cb28-332" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">tail_to_signal_ratio</span>(alg.tests.est, <span class="at">cores =</span> cores, <span class="at">tsr.formula =</span> <span class="dv">1</span>, <span class="at">mar =</span> <span class="fl">0.03</span>)</span>
<span id="cb28-333"><a href="#cb28-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-334"><a href="#cb28-334" aria-hidden="true" tabindex="-1"></a><span class="co"># run spcc</span></span>
<span id="cb28-335"><a href="#cb28-335" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/baRulho/R/spcc.R"</span>)</span>
<span id="cb28-336"><a href="#cb28-336" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/cross_correlation.R"</span>)</span>
<span id="cb28-337"><a href="#cb28-337" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"~/Dropbox/R_package_testing/warbleR/R/internal_functions.R"</span>)</span>
<span id="cb28-338"><a href="#cb28-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-339"><a href="#cb28-339" aria-hidden="true" tabindex="-1"></a>alg.tests.est <span class="ot">&lt;-</span> <span class="fu">spcc</span>(<span class="at">X =</span> alg.tests.est, <span class="at">cores =</span> cores)</span>
<span id="cb28-340"><a href="#cb28-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-341"><a href="#cb28-341" aria-hidden="true" tabindex="-1"></a>af <span class="ot">&lt;-</span> <span class="fu">spectro_analysis</span>(alg.tests.est, <span class="at">parallel =</span> cores)</span>
<span id="cb28-342"><a href="#cb28-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-343"><a href="#cb28-343" aria-hidden="true" tabindex="-1"></a>alg.tests.est<span class="sc">$</span>peak.frequency <span class="ot">&lt;-</span> af<span class="sc">$</span>meanpeakf</span>
<span id="cb28-344"><a href="#cb28-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-345"><a href="#cb28-345" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(alg.tests.est)</span>
<span id="cb28-346"><a href="#cb28-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-347"><a href="#cb28-347" aria-hidden="true" tabindex="-1"></a>alg.tests <span class="ot">&lt;-</span> alg.tests[alg.tests<span class="sc">$</span>distance <span class="sc">&gt;</span> <span class="dv">3</span>, ]</span>
<span id="cb28-348"><a href="#cb28-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-349"><a href="#cb28-349" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(alg.tests, <span class="st">"./data/processed/degradation_metrics_3m_reference.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb28-350"><a href="#cb28-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-351"><a href="#cb28-351" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-352"><a href="#cb28-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-353"><a href="#cb28-353" aria-hidden="true" tabindex="-1"></a><span class="fu"># Stats</span></span>
<span id="cb28-354"><a href="#cb28-354" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3 m reference</span></span>
<span id="cb28-357"><a href="#cb28-357" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-358"><a href="#cb28-358" aria-hidden="true" tabindex="-1"></a>degrad_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/processed/degradation_metrics_3m_reference.csv"</span>)</span>
<span id="cb28-359"><a href="#cb28-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-360"><a href="#cb28-360" aria-hidden="true" tabindex="-1"></a>degrad_measures <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"blur.ratio"</span>, <span class="st">"spectrum.blur.ratio"</span>, <span class="st">"excess.attenuation"</span>, <span class="st">"envelope.correlation"</span>, <span class="st">"spectrum.correlation"</span>, <span class="st">"signal.to.noise.ratio"</span>, <span class="st">"tail.to.noise.ratio"</span>, <span class="st">"tail.to.signal.ratio"</span>, <span class="st">"cross.correlation"</span>)</span>
<span id="cb28-361"><a href="#cb28-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-362"><a href="#cb28-362" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(degrad_dat[, degrad_measures], <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-363"><a href="#cb28-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-364"><a href="#cb28-364" aria-hidden="true" tabindex="-1"></a>pca</span>
<span id="cb28-365"><a href="#cb28-365" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca)</span>
<span id="cb28-366"><a href="#cb28-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-367"><a href="#cb28-367" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>degrad.pc1 <span class="ot">&lt;-</span> pca<span class="sc">$</span>x[,<span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb28-368"><a href="#cb28-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-369"><a href="#cb28-369" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"BB"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"fm"</span>, <span class="st">"no.fm"</span>)  </span>
<span id="cb28-370"><a href="#cb28-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-371"><a href="#cb28-371" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>amplitude.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"_am"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"am"</span>, <span class="st">"no.am"</span>)  </span>
<span id="cb28-372"><a href="#cb28-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-373"><a href="#cb28-373" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>duration <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"0.1"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"short"</span>, <span class="st">"long"</span>)  </span>
<span id="cb28-374"><a href="#cb28-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-375"><a href="#cb28-375" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency <span class="ot">&lt;-</span> degrad_dat<span class="sc">$</span>peak.frequency</span>
<span id="cb28-376"><a href="#cb28-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-377"><a href="#cb28-377" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>peak.frequency <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-378"><a href="#cb28-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-379"><a href="#cb28-379" aria-hidden="true" tabindex="-1"></a>sim_candidates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.5</span>)</span>
<span id="cb28-380"><a href="#cb28-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-381"><a href="#cb28-381" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sim.frequency <span class="ot">&lt;-</span> <span class="fu">sapply</span>(degrad_dat<span class="sc">$</span>frequency, <span class="cf">function</span>(x) sim_candidates[<span class="fu">which.min</span>(<span class="fu">abs</span>(sim_candidates <span class="sc">-</span> x))])</span>
<span id="cb28-382"><a href="#cb28-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-383"><a href="#cb28-383" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sound.treatment <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">strsplit</span>(degrad_dat<span class="sc">$</span>sound.id, <span class="st">".wav"</span>), <span class="st">"[["</span>, <span class="dv">1</span>) </span>
<span id="cb28-384"><a href="#cb28-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-385"><a href="#cb28-385" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>distance_f <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">as.character</span>(degrad_dat<span class="sc">$</span>distance), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"10"</span>, <span class="st">"30"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-386"><a href="#cb28-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-387"><a href="#cb28-387" aria-hidden="true" tabindex="-1"></a><span class="co"># iter &lt;- 5000</span></span>
<span id="cb28-388"><a href="#cb28-388" aria-hidden="true" tabindex="-1"></a><span class="co"># chains &lt;- 4</span></span>
<span id="cb28-389"><a href="#cb28-389" aria-hidden="true" tabindex="-1"></a><span class="co"># priors &lt;- c(prior(normal(0, 6), class = "b"))</span></span>
<span id="cb28-390"><a href="#cb28-390" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-391"><a href="#cb28-391" aria-hidden="true" tabindex="-1"></a><span class="co"># set.seed(123)</span></span>
<span id="cb28-392"><a href="#cb28-392" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-393"><a href="#cb28-393" aria-hidden="true" tabindex="-1"></a><span class="co"># mod &lt;- brm(degrad.pc1 ~ </span></span>
<span id="cb28-394"><a href="#cb28-394" aria-hidden="true" tabindex="-1"></a><span class="co">#                 frequency * habitat.type + </span></span>
<span id="cb28-395"><a href="#cb28-395" aria-hidden="true" tabindex="-1"></a><span class="co">#                 duration * habitat.type +</span></span>
<span id="cb28-396"><a href="#cb28-396" aria-hidden="true" tabindex="-1"></a><span class="co">#                 frequency.modulation * habitat.type +</span></span>
<span id="cb28-397"><a href="#cb28-397" aria-hidden="true" tabindex="-1"></a><span class="co">#                 amplitude.modulation * habitat.type +</span></span>
<span id="cb28-398"><a href="#cb28-398" aria-hidden="true" tabindex="-1"></a><span class="co">#                 (1 | transect) +</span></span>
<span id="cb28-399"><a href="#cb28-399" aria-hidden="true" tabindex="-1"></a><span class="co">#                 mo(distance_f),</span></span>
<span id="cb28-400"><a href="#cb28-400" aria-hidden="true" tabindex="-1"></a><span class="co">#                 data = degrad_dat,</span></span>
<span id="cb28-401"><a href="#cb28-401" aria-hidden="true" tabindex="-1"></a><span class="co">#                 prior = priors, </span></span>
<span id="cb28-402"><a href="#cb28-402" aria-hidden="true" tabindex="-1"></a><span class="co">#                 iter = iter, </span></span>
<span id="cb28-403"><a href="#cb28-403" aria-hidden="true" tabindex="-1"></a><span class="co">#                 chains = chains, </span></span>
<span id="cb28-404"><a href="#cb28-404" aria-hidden="true" tabindex="-1"></a><span class="co">#                 cores = chains, </span></span>
<span id="cb28-405"><a href="#cb28-405" aria-hidden="true" tabindex="-1"></a><span class="co">#                 control = list(adapt_delta = 0.99, max_treedepth = 15), </span></span>
<span id="cb28-406"><a href="#cb28-406" aria-hidden="true" tabindex="-1"></a><span class="co">#                 file = "./data/processed/global_regression_model_int_all_data.RDS", </span></span>
<span id="cb28-407"><a href="#cb28-407" aria-hidden="true" tabindex="-1"></a><span class="co">#                 file_refit = "always"</span></span>
<span id="cb28-408"><a href="#cb28-408" aria-hidden="true" tabindex="-1"></a><span class="co">#             )</span></span>
<span id="cb28-409"><a href="#cb28-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-410"><a href="#cb28-410" aria-hidden="true" tabindex="-1"></a>int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-411"><a href="#cb28-411" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-412"><a href="#cb28-412" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-413"><a href="#cb28-413" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-414"><a href="#cb28-414" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-415"><a href="#cb28-415" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment) <span class="sc">+</span></span>
<span id="cb28-416"><a href="#cb28-416" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb28-417"><a href="#cb28-417" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-418"><a href="#cb28-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-419"><a href="#cb28-419" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-420"><a href="#cb28-420" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-421"><a href="#cb28-421" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-422"><a href="#cb28-422" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-423"><a href="#cb28-423" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-424"><a href="#cb28-424" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-425"><a href="#cb28-425" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-426"><a href="#cb28-426" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-427"><a href="#cb28-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-428"><a href="#cb28-428" aria-hidden="true" tabindex="-1"></a>no_int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-429"><a href="#cb28-429" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">+</span> </span>
<span id="cb28-430"><a href="#cb28-430" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">+</span></span>
<span id="cb28-431"><a href="#cb28-431" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">+</span></span>
<span id="cb28-432"><a href="#cb28-432" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">+</span></span>
<span id="cb28-433"><a href="#cb28-433" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment) <span class="sc">+</span></span>
<span id="cb28-434"><a href="#cb28-434" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb28-435"><a href="#cb28-435" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-436"><a href="#cb28-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-437"><a href="#cb28-437" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-438"><a href="#cb28-438" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">+</span> </span>
<span id="cb28-439"><a href="#cb28-439" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">+</span></span>
<span id="cb28-440"><a href="#cb28-440" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">+</span></span>
<span id="cb28-441"><a href="#cb28-441" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">+</span></span>
<span id="cb28-442"><a href="#cb28-442" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-443"><a href="#cb28-443" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),       </span>
<span id="cb28-444"><a href="#cb28-444" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-445"><a href="#cb28-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-446"><a href="#cb28-446" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb28-447"><a href="#cb28-447" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment) <span class="sc">+</span></span>
<span id="cb28-448"><a href="#cb28-448" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb28-449"><a href="#cb28-449" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-450"><a href="#cb28-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-451"><a href="#cb28-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-452"><a href="#cb28-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-453"><a href="#cb28-453" aria-hidden="true" tabindex="-1"></a>aic_tab_3m <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int_mod, int2_mod, no_int_mod, no_int2_mod, null_mod)</span>
<span id="cb28-454"><a href="#cb28-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-455"><a href="#cb28-455" aria-hidden="true" tabindex="-1"></a>aic_tab_3m<span class="sc">$</span>delta_aic <span class="ot">&lt;-</span> aic_tab_3m<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab_3m<span class="sc">$</span>AIC)</span>
<span id="cb28-456"><a href="#cb28-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-457"><a href="#cb28-457" aria-hidden="true" tabindex="-1"></a>aic_tab_3m <span class="ot">&lt;-</span> aic_tab_3m[<span class="fu">order</span>(aic_tab_3m<span class="sc">$</span>delta_aic), ]</span>
<span id="cb28-458"><a href="#cb28-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-459"><a href="#cb28-459" aria-hidden="true" tabindex="-1"></a>aic_tab_3m</span>
<span id="cb28-460"><a href="#cb28-460" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-461"><a href="#cb28-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-462"><a href="#cb28-462" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1 m reference</span></span>
<span id="cb28-465"><a href="#cb28-465" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-466"><a href="#cb28-466" aria-hidden="true" tabindex="-1"></a>degrad_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"./data/processed/degradation_metrics.csv"</span>)</span>
<span id="cb28-467"><a href="#cb28-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-468"><a href="#cb28-468" aria-hidden="true" tabindex="-1"></a>degrad_measures <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"blur.ratio"</span>, <span class="st">"spectrum.blur.ratio"</span>, <span class="st">"excess.attenuation"</span>, <span class="st">"envelope.correlation"</span>, <span class="st">"spectrum.correlation"</span>, <span class="st">"signal.to.noise.ratio"</span>, <span class="st">"tail.to.noise.ratio"</span>, <span class="st">"tail.to.signal.ratio"</span>, <span class="st">"cross.correlation"</span>)</span>
<span id="cb28-469"><a href="#cb28-469" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-470"><a href="#cb28-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-471"><a href="#cb28-471" aria-hidden="true" tabindex="-1"></a><span class="fu">### Descriptive stats</span></span>
<span id="cb28-472"><a href="#cb28-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-473"><a href="#cb28-473" aria-hidden="true" tabindex="-1"></a>Total test sounds: <span class="in">`r nrow(degrad_dat)`</span></span>
<span id="cb28-476"><a href="#cb28-476" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-477"><a href="#cb28-477" aria-hidden="true" tabindex="-1"></a>agg <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(selec <span class="sc">~</span> habitat.type<span class="sc">+</span> distance, degrad_dat, length)</span>
<span id="cb28-478"><a href="#cb28-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-479"><a href="#cb28-479" aria-hidden="true" tabindex="-1"></a>agg<span class="sc">$</span>bytran <span class="ot">&lt;-</span> <span class="fu">round</span>(agg<span class="sc">$</span>selec <span class="sc">/</span> <span class="dv">3</span>, <span class="dv">0</span>)</span>
<span id="cb28-480"><a href="#cb28-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-481"><a href="#cb28-481" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(agg) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"habitat type"</span>, <span class="st">"distance"</span>, <span class="st">"total test sounds"</span>, <span class="st">"sounds per transect"</span>)</span>
<span id="cb28-482"><a href="#cb28-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-483"><a href="#cb28-483" aria-hidden="true" tabindex="-1"></a>agg</span>
<span id="cb28-484"><a href="#cb28-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-485"><a href="#cb28-485" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-486"><a href="#cb28-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-487"><a href="#cb28-487" aria-hidden="true" tabindex="-1"></a><span class="fu">### PCA</span></span>
<span id="cb28-490"><a href="#cb28-490" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-491"><a href="#cb28-491" aria-hidden="true" tabindex="-1"></a>pca <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(degrad_dat[, degrad_measures], <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-492"><a href="#cb28-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-493"><a href="#cb28-493" aria-hidden="true" tabindex="-1"></a>pca</span>
<span id="cb28-494"><a href="#cb28-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-495"><a href="#cb28-495" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pca)</span>
<span id="cb28-496"><a href="#cb28-496" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-497"><a href="#cb28-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-498"><a href="#cb28-498" aria-hidden="true" tabindex="-1"></a><span class="fu">### Model selection</span></span>
<span id="cb28-499"><a href="#cb28-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-500"><a href="#cb28-500" aria-hidden="true" tabindex="-1"></a><span class="fu">#### All interactions</span></span>
<span id="cb28-503"><a href="#cb28-503" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-504"><a href="#cb28-504" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>degrad.pc1 <span class="ot">&lt;-</span> pca<span class="sc">$</span>x[,<span class="dv">1</span>] <span class="sc">*</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb28-505"><a href="#cb28-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-506"><a href="#cb28-506" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"BB"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"+"</span>, <span class="st">"-"</span>)  </span>
<span id="cb28-507"><a href="#cb28-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-508"><a href="#cb28-508" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>amplitude.modulation <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"_am"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"+"</span>, <span class="st">"-"</span>)  </span>
<span id="cb28-509"><a href="#cb28-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-510"><a href="#cb28-510" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>duration <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"0.1"</span>, degrad_dat<span class="sc">$</span>sound.id), <span class="st">"Short"</span>, <span class="st">"Long"</span>)  </span>
<span id="cb28-511"><a href="#cb28-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-512"><a href="#cb28-512" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>frequency <span class="ot">&lt;-</span> degrad_dat<span class="sc">$</span>peak.frequency</span>
<span id="cb28-513"><a href="#cb28-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-514"><a href="#cb28-514" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"primary"</span>, <span class="st">"Primary</span><span class="sc">\n</span><span class="st">forest"</span>, degrad_dat<span class="sc">$</span>habitat.type)</span>
<span id="cb28-515"><a href="#cb28-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-516"><a href="#cb28-516" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"secondary"</span>, <span class="st">"Secondary</span><span class="sc">\n</span><span class="st">forest"</span>, degrad_dat<span class="sc">$</span>habitat.type)</span>
<span id="cb28-517"><a href="#cb28-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-518"><a href="#cb28-518" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>habitat.type <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"open garden"</span>, <span class="st">"Open</span><span class="sc">\n</span><span class="st">habitat"</span>, degrad_dat<span class="sc">$</span>habitat.type)</span>
<span id="cb28-519"><a href="#cb28-519" aria-hidden="true" tabindex="-1"></a>                                </span>
<span id="cb28-520"><a href="#cb28-520" aria-hidden="true" tabindex="-1"></a>sim_candidates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.5</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.5</span>)</span>
<span id="cb28-521"><a href="#cb28-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-522"><a href="#cb28-522" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sim.frequency <span class="ot">&lt;-</span> <span class="fu">sapply</span>(degrad_dat<span class="sc">$</span>frequency, <span class="cf">function</span>(x) sim_candidates[<span class="fu">which.min</span>(<span class="fu">abs</span>(sim_candidates <span class="sc">-</span> x))])</span>
<span id="cb28-523"><a href="#cb28-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-524"><a href="#cb28-524" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sound.treatment <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">strsplit</span>(degrad_dat<span class="sc">$</span>sound.id, <span class="st">".wav"</span>), <span class="st">"[["</span>, <span class="dv">1</span>) </span>
<span id="cb28-525"><a href="#cb28-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-526"><a href="#cb28-526" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>sound.treatment <span class="ot">&lt;-</span> <span class="fu">paste</span>(degrad_dat<span class="sc">$</span>sim.frequency, degrad_dat<span class="sc">$</span>sound.treatment, <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb28-527"><a href="#cb28-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-528"><a href="#cb28-528" aria-hidden="true" tabindex="-1"></a>degrad_dat<span class="sc">$</span>distance_f <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">as.character</span>(degrad_dat<span class="sc">$</span>distance), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"10"</span>, <span class="st">"30"</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-529"><a href="#cb28-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-530"><a href="#cb28-530" aria-hidden="true" tabindex="-1"></a><span class="co"># iter &lt;- 5000</span></span>
<span id="cb28-531"><a href="#cb28-531" aria-hidden="true" tabindex="-1"></a><span class="co"># chains &lt;- 4</span></span>
<span id="cb28-532"><a href="#cb28-532" aria-hidden="true" tabindex="-1"></a><span class="co"># priors &lt;- c(prior(normal(0, 6), class = "b"))</span></span>
<span id="cb28-533"><a href="#cb28-533" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-534"><a href="#cb28-534" aria-hidden="true" tabindex="-1"></a><span class="co"># set.seed(123)</span></span>
<span id="cb28-535"><a href="#cb28-535" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-536"><a href="#cb28-536" aria-hidden="true" tabindex="-1"></a><span class="co"># mod &lt;- brm(degrad.pc1 ~ </span></span>
<span id="cb28-537"><a href="#cb28-537" aria-hidden="true" tabindex="-1"></a><span class="co">#                 frequency * habitat.type + </span></span>
<span id="cb28-538"><a href="#cb28-538" aria-hidden="true" tabindex="-1"></a><span class="co">#                 duration * habitat.type +</span></span>
<span id="cb28-539"><a href="#cb28-539" aria-hidden="true" tabindex="-1"></a><span class="co">#                 frequency.modulation * habitat.type +</span></span>
<span id="cb28-540"><a href="#cb28-540" aria-hidden="true" tabindex="-1"></a><span class="co">#                 amplitude.modulation * habitat.type +</span></span>
<span id="cb28-541"><a href="#cb28-541" aria-hidden="true" tabindex="-1"></a><span class="co">#                 (1 | transect) +</span></span>
<span id="cb28-542"><a href="#cb28-542" aria-hidden="true" tabindex="-1"></a><span class="co">#                 mo(distance_f),</span></span>
<span id="cb28-543"><a href="#cb28-543" aria-hidden="true" tabindex="-1"></a><span class="co">#                 data = degrad_dat,</span></span>
<span id="cb28-544"><a href="#cb28-544" aria-hidden="true" tabindex="-1"></a><span class="co">#                 prior = priors, </span></span>
<span id="cb28-545"><a href="#cb28-545" aria-hidden="true" tabindex="-1"></a><span class="co">#                 iter = iter, </span></span>
<span id="cb28-546"><a href="#cb28-546" aria-hidden="true" tabindex="-1"></a><span class="co">#                 chains = chains, </span></span>
<span id="cb28-547"><a href="#cb28-547" aria-hidden="true" tabindex="-1"></a><span class="co">#                 cores = chains, </span></span>
<span id="cb28-548"><a href="#cb28-548" aria-hidden="true" tabindex="-1"></a><span class="co">#                 control = list(adapt_delta = 0.99, max_treedepth = 15), </span></span>
<span id="cb28-549"><a href="#cb28-549" aria-hidden="true" tabindex="-1"></a><span class="co">#                 file = "./data/processed/global_regression_model_int_all_data.RDS", </span></span>
<span id="cb28-550"><a href="#cb28-550" aria-hidden="true" tabindex="-1"></a><span class="co">#                 file_refit = "always"</span></span>
<span id="cb28-551"><a href="#cb28-551" aria-hidden="true" tabindex="-1"></a><span class="co">#             )</span></span>
<span id="cb28-552"><a href="#cb28-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-553"><a href="#cb28-553" aria-hidden="true" tabindex="-1"></a>plot_mod <span class="ot">&lt;-</span> int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-554"><a href="#cb28-554" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-555"><a href="#cb28-555" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-556"><a href="#cb28-556" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-557"><a href="#cb28-557" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-558"><a href="#cb28-558" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment) <span class="sc">+</span></span>
<span id="cb28-559"><a href="#cb28-559" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb28-560"><a href="#cb28-560" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-561"><a href="#cb28-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-562"><a href="#cb28-562" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-563"><a href="#cb28-563" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-564"><a href="#cb28-564" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-565"><a href="#cb28-565" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-566"><a href="#cb28-566" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span></span>
<span id="cb28-567"><a href="#cb28-567" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-568"><a href="#cb28-568" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-569"><a href="#cb28-569" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-570"><a href="#cb28-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-571"><a href="#cb28-571" aria-hidden="true" tabindex="-1"></a>no_int_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-572"><a href="#cb28-572" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">+</span> </span>
<span id="cb28-573"><a href="#cb28-573" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">+</span></span>
<span id="cb28-574"><a href="#cb28-574" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">+</span></span>
<span id="cb28-575"><a href="#cb28-575" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">+</span></span>
<span id="cb28-576"><a href="#cb28-576" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment) <span class="sc">+</span></span>
<span id="cb28-577"><a href="#cb28-577" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb28-578"><a href="#cb28-578" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-579"><a href="#cb28-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-580"><a href="#cb28-580" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-581"><a href="#cb28-581" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">+</span> </span>
<span id="cb28-582"><a href="#cb28-582" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">+</span></span>
<span id="cb28-583"><a href="#cb28-583" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">+</span></span>
<span id="cb28-584"><a href="#cb28-584" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">+</span></span>
<span id="cb28-585"><a href="#cb28-585" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-586"><a href="#cb28-586" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),       </span>
<span id="cb28-587"><a href="#cb28-587" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-588"><a href="#cb28-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-589"><a href="#cb28-589" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb28-590"><a href="#cb28-590" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment) <span class="sc">+</span></span>
<span id="cb28-591"><a href="#cb28-591" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> distance_f),</span>
<span id="cb28-592"><a href="#cb28-592" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-593"><a href="#cb28-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-594"><a href="#cb28-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-595"><a href="#cb28-595" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int_mod, int2_mod, no_int_mod, no_int2_mod, null_mod)</span>
<span id="cb28-596"><a href="#cb28-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-597"><a href="#cb28-597" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb28-598"><a href="#cb28-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-599"><a href="#cb28-599" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb28-600"><a href="#cb28-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-601"><a href="#cb28-601" aria-hidden="true" tabindex="-1"></a>aic_tab2 <span class="ot">&lt;-</span> aic_tab[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), ]</span>
<span id="cb28-602"><a href="#cb28-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-603"><a href="#cb28-603" aria-hidden="true" tabindex="-1"></a>aic_tab2<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb28-604"><a href="#cb28-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-605"><a href="#cb28-605" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab2) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-606"><a href="#cb28-606" aria-hidden="true" tabindex="-1"></a>aic_tab2[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span>
<span id="cb28-607"><a href="#cb28-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-608"><a href="#cb28-608" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-609"><a href="#cb28-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-610"><a href="#cb28-610" aria-hidden="true" tabindex="-1"></a><span class="fu">### Each predictor separately</span></span>
<span id="cb28-611"><a href="#cb28-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-612"><a href="#cb28-612" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Frequency</span></span>
<span id="cb28-615"><a href="#cb28-615" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-616"><a href="#cb28-616" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-617"><a href="#cb28-617" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-618"><a href="#cb28-618" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-619"><a href="#cb28-619" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-620"><a href="#cb28-620" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-621"><a href="#cb28-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-622"><a href="#cb28-622" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-623"><a href="#cb28-623" aria-hidden="true" tabindex="-1"></a>                frequency <span class="sc">+</span> </span>
<span id="cb28-624"><a href="#cb28-624" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-625"><a href="#cb28-625" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),       </span>
<span id="cb28-626"><a href="#cb28-626" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-627"><a href="#cb28-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-628"><a href="#cb28-628" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb28-629"><a href="#cb28-629" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-630"><a href="#cb28-630" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-631"><a href="#cb28-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-632"><a href="#cb28-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-633"><a href="#cb28-633" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb28-634"><a href="#cb28-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-635"><a href="#cb28-635" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb28-636"><a href="#cb28-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-637"><a href="#cb28-637" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb28-638"><a href="#cb28-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-639"><a href="#cb28-639" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb28-640"><a href="#cb28-640" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-641"><a href="#cb28-641" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb28-642"><a href="#cb28-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-643"><a href="#cb28-643" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-644"><a href="#cb28-644" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span>
<span id="cb28-645"><a href="#cb28-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-646"><a href="#cb28-646" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-647"><a href="#cb28-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-648"><a href="#cb28-648" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Frequency modulation</span></span>
<span id="cb28-651"><a href="#cb28-651" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-652"><a href="#cb28-652" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-653"><a href="#cb28-653" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-654"><a href="#cb28-654" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-655"><a href="#cb28-655" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-656"><a href="#cb28-656" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-657"><a href="#cb28-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-658"><a href="#cb28-658" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-659"><a href="#cb28-659" aria-hidden="true" tabindex="-1"></a>                frequency.modulation <span class="sc">+</span> </span>
<span id="cb28-660"><a href="#cb28-660" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-661"><a href="#cb28-661" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),       </span>
<span id="cb28-662"><a href="#cb28-662" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-663"><a href="#cb28-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-664"><a href="#cb28-664" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb28-665"><a href="#cb28-665" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-666"><a href="#cb28-666" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-667"><a href="#cb28-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-668"><a href="#cb28-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-669"><a href="#cb28-669" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb28-670"><a href="#cb28-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-671"><a href="#cb28-671" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb28-672"><a href="#cb28-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-673"><a href="#cb28-673" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb28-674"><a href="#cb28-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-675"><a href="#cb28-675" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb28-676"><a href="#cb28-676" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-677"><a href="#cb28-677" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb28-678"><a href="#cb28-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-679"><a href="#cb28-679" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-680"><a href="#cb28-680" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span>
<span id="cb28-681"><a href="#cb28-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-682"><a href="#cb28-682" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-683"><a href="#cb28-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-684"><a href="#cb28-684" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Amplitude modulation</span></span>
<span id="cb28-687"><a href="#cb28-687" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-688"><a href="#cb28-688" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-689"><a href="#cb28-689" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-690"><a href="#cb28-690" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-691"><a href="#cb28-691" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-692"><a href="#cb28-692" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-693"><a href="#cb28-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-694"><a href="#cb28-694" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-695"><a href="#cb28-695" aria-hidden="true" tabindex="-1"></a>                amplitude.modulation <span class="sc">+</span> </span>
<span id="cb28-696"><a href="#cb28-696" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-697"><a href="#cb28-697" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),       </span>
<span id="cb28-698"><a href="#cb28-698" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-699"><a href="#cb28-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-700"><a href="#cb28-700" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb28-701"><a href="#cb28-701" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-702"><a href="#cb28-702" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-703"><a href="#cb28-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-704"><a href="#cb28-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-705"><a href="#cb28-705" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb28-706"><a href="#cb28-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-707"><a href="#cb28-707" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb28-708"><a href="#cb28-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-709"><a href="#cb28-709" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb28-710"><a href="#cb28-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-711"><a href="#cb28-711" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb28-712"><a href="#cb28-712" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-713"><a href="#cb28-713" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb28-714"><a href="#cb28-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-715"><a href="#cb28-715" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-716"><a href="#cb28-716" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span>
<span id="cb28-717"><a href="#cb28-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-718"><a href="#cb28-718" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-719"><a href="#cb28-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-720"><a href="#cb28-720" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Duration</span></span>
<span id="cb28-723"><a href="#cb28-723" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-724"><a href="#cb28-724" aria-hidden="true" tabindex="-1"></a>int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-725"><a href="#cb28-725" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">*</span> habitat.type <span class="sc">+</span> </span>
<span id="cb28-726"><a href="#cb28-726" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-727"><a href="#cb28-727" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-728"><a href="#cb28-728" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-729"><a href="#cb28-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-730"><a href="#cb28-730" aria-hidden="true" tabindex="-1"></a>no_int2_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> </span>
<span id="cb28-731"><a href="#cb28-731" aria-hidden="true" tabindex="-1"></a>                duration <span class="sc">+</span> </span>
<span id="cb28-732"><a href="#cb28-732" aria-hidden="true" tabindex="-1"></a>                distance_f <span class="sc">+</span></span>
<span id="cb28-733"><a href="#cb28-733" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),       </span>
<span id="cb28-734"><a href="#cb28-734" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-735"><a href="#cb28-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-736"><a href="#cb28-736" aria-hidden="true" tabindex="-1"></a>null_mod <span class="ot">&lt;-</span> <span class="fu">lmer</span>(degrad.pc1 <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> </span>
<span id="cb28-737"><a href="#cb28-737" aria-hidden="true" tabindex="-1"></a>                (<span class="dv">1</span> <span class="sc">|</span> transect <span class="sc">/</span> sound.treatment),</span>
<span id="cb28-738"><a href="#cb28-738" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> degrad_dat)</span>
<span id="cb28-739"><a href="#cb28-739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-740"><a href="#cb28-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-741"><a href="#cb28-741" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> <span class="fu">AIC</span>(int2_mod, no_int2_mod, null_mod)</span>
<span id="cb28-742"><a href="#cb28-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-743"><a href="#cb28-743" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>delta_AIC <span class="ot">&lt;-</span> aic_tab<span class="sc">$</span>AIC <span class="sc">-</span> <span class="fu">min</span>(aic_tab<span class="sc">$</span>AIC)</span>
<span id="cb28-744"><a href="#cb28-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-745"><a href="#cb28-745" aria-hidden="true" tabindex="-1"></a>aic_tab <span class="ot">&lt;-</span> aic_tab[<span class="fu">order</span>(aic_tab<span class="sc">$</span>delta_AIC), ]</span>
<span id="cb28-746"><a href="#cb28-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-747"><a href="#cb28-747" aria-hidden="true" tabindex="-1"></a><span class="co"># aic_tab2 &lt;- aic_tab[c(1, 3, 5), ]</span></span>
<span id="cb28-748"><a href="#cb28-748" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb28-749"><a href="#cb28-749" aria-hidden="true" tabindex="-1"></a>aic_tab<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Interaction"</span>, <span class="st">"No interaction"</span>, <span class="st">"Null"</span>)</span>
<span id="cb28-750"><a href="#cb28-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-751"><a href="#cb28-751" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(aic_tab) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb28-752"><a href="#cb28-752" aria-hidden="true" tabindex="-1"></a>aic_tab[, <span class="fu">c</span>(<span class="st">"model"</span>, <span class="st">"delta_AIC"</span>)]</span>
<span id="cb28-753"><a href="#cb28-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-754"><a href="#cb28-754" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-755"><a href="#cb28-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-758"><a href="#cb28-758" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb28-759"><a href="#cb28-759" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame with a sequence of frequency values for each habitat type</span></span>
<span id="cb28-760"><a href="#cb28-760" aria-hidden="true" tabindex="-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb28-761"><a href="#cb28-761" aria-hidden="true" tabindex="-1"></a>  <span class="at">frequency =</span> <span class="fu">seq</span>(<span class="fu">min</span>(degrad_dat<span class="sc">$</span>frequency), <span class="fu">max</span>(degrad_dat<span class="sc">$</span>frequency), <span class="at">length.out =</span> <span class="dv">300</span>),</span>
<span id="cb28-762"><a href="#cb28-762" aria-hidden="true" tabindex="-1"></a>  <span class="at">habitat.type =</span> <span class="fu">unique</span>(degrad_dat<span class="sc">$</span>habitat.type),</span>
<span id="cb28-763"><a href="#cb28-763" aria-hidden="true" tabindex="-1"></a>  <span class="at">frequency.modulation =</span> <span class="fu">c</span>(<span class="st">"+"</span>, <span class="st">"-"</span>),</span>
<span id="cb28-764"><a href="#cb28-764" aria-hidden="true" tabindex="-1"></a>  <span class="at">amplitude.modulation =</span> <span class="fu">c</span>(<span class="st">"+"</span>, <span class="st">"-"</span>),</span>
<span id="cb28-765"><a href="#cb28-765" aria-hidden="true" tabindex="-1"></a>  <span class="at">duration =</span> <span class="fu">c</span>(<span class="st">"Short"</span>, <span class="st">"Long"</span>))</span>
<span id="cb28-766"><a href="#cb28-766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-767"><a href="#cb28-767" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict degrad.pc1 using the model for each combination of frequency and habitat.type</span></span>
<span id="cb28-768"><a href="#cb28-768" aria-hidden="true" tabindex="-1"></a>new_data<span class="sc">$</span>degrad.pc1 <span class="ot">&lt;-</span> <span class="fu">predict</span>(plot_mod, <span class="at">newdata =</span> new_data, <span class="at">re.form =</span> <span class="cn">NA</span>)</span>
<span id="cb28-769"><a href="#cb28-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-770"><a href="#cb28-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-771"><a href="#cb28-771" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">x =</span> frequency, <span class="at">y =</span> degrad.pc1, <span class="at">color =</span> habitat.type, <span class="at">fill =</span> habitat.type)) <span class="sc">+</span></span>
<span id="cb28-772"><a href="#cb28-772" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb28-773"><a href="#cb28-773" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span> </span>
<span id="cb28-774"><a href="#cb28-774" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb28-775"><a href="#cb28-775" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb28-776"><a href="#cb28-776" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>,</span>
<span id="cb28-777"><a href="#cb28-777" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb28-778"><a href="#cb28-778" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"Habitat type"</span></span>
<span id="cb28-779"><a href="#cb28-779" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb28-780"><a href="#cb28-780" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span>
<span id="cb28-781"><a href="#cb28-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-782"><a href="#cb28-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-783"><a href="#cb28-783" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">color =</span> frequency.modulation, <span class="at">y =</span> degrad.pc1, <span class="at">x =</span> habitat.type, <span class="at">fill =</span> habitat.type)) <span class="sc">+</span></span>
<span id="cb28-784"><a href="#cb28-784" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb28-785"><a href="#cb28-785" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span> </span>
<span id="cb28-786"><a href="#cb28-786" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">guide =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb28-787"><a href="#cb28-787" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb28-788"><a href="#cb28-788" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>,</span>
<span id="cb28-789"><a href="#cb28-789" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Frequency</span><span class="sc">\n</span><span class="st">modulation"</span>,</span>
<span id="cb28-790"><a href="#cb28-790" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Frequency</span><span class="sc">\n</span><span class="st">modulation"</span>) <span class="sc">+</span></span>
<span id="cb28-791"><a href="#cb28-791" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span>
<span id="cb28-792"><a href="#cb28-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-793"><a href="#cb28-793" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">color =</span> amplitude.modulation, <span class="at">y =</span> degrad.pc1, <span class="at">x =</span> habitat.type, <span class="at">fill =</span> habitat.type)) <span class="sc">+</span></span>
<span id="cb28-794"><a href="#cb28-794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb28-795"><a href="#cb28-795" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span> </span>
<span id="cb28-796"><a href="#cb28-796" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">guide =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb28-797"><a href="#cb28-797" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb28-798"><a href="#cb28-798" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>,</span>
<span id="cb28-799"><a href="#cb28-799" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Amplitude</span><span class="sc">\n</span><span class="st">modulation"</span>,</span>
<span id="cb28-800"><a href="#cb28-800" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Amplitude</span><span class="sc">\n</span><span class="st">modulation"</span>) <span class="sc">+</span></span>
<span id="cb28-801"><a href="#cb28-801" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span>
<span id="cb28-802"><a href="#cb28-802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-803"><a href="#cb28-803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-804"><a href="#cb28-804" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(new_data, <span class="fu">aes</span>(<span class="at">color =</span> duration, <span class="at">y =</span> degrad.pc1, <span class="at">x =</span> habitat.type, <span class="at">fill =</span> habitat.type)) <span class="sc">+</span></span>
<span id="cb28-805"><a href="#cb28-805" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb28-806"><a href="#cb28-806" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_grey</span>() <span class="sc">+</span> </span>
<span id="cb28-807"><a href="#cb28-807" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">guide =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb28-808"><a href="#cb28-808" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Habitat type"</span>,</span>
<span id="cb28-809"><a href="#cb28-809" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Degradation (PC1)"</span>,</span>
<span id="cb28-810"><a href="#cb28-810" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Duration"</span>,</span>
<span id="cb28-811"><a href="#cb28-811" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Duration"</span>) <span class="sc">+</span></span>
<span id="cb28-812"><a href="#cb28-812" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">20</span>)</span>
<span id="cb28-813"><a href="#cb28-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-814"><a href="#cb28-814" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-815"><a href="#cb28-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-816"><a href="#cb28-816" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-success}</span>
<span id="cb28-817"><a href="#cb28-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-818"><a href="#cb28-818" aria-hidden="true" tabindex="-1"></a><span class="fu"># Takeaways {.unnumbered .unlisted}</span></span>
<span id="cb28-819"><a href="#cb28-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-820"><a href="#cb28-820" aria-hidden="true" tabindex="-1"></a>::: </span>
<span id="cb28-821"><a href="#cb28-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-822"><a href="#cb28-822" aria-hidden="true" tabindex="-1"></a><span class="dv">&amp;nbsp;</span></span>
<span id="cb28-823"><a href="#cb28-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-824"><a href="#cb28-824" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- '---' adds a gray vertical line --&gt;</span></span>
<span id="cb28-825"><a href="#cb28-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-826"><a href="#cb28-826" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb28-827"><a href="#cb28-827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-828"><a href="#cb28-828" aria-hidden="true" tabindex="-1"></a><span class="dv">&amp;nbsp;</span> </span>
<span id="cb28-829"><a href="#cb28-829" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb28-830"><a href="#cb28-830" aria-hidden="true" tabindex="-1"></a><span class="co"> &lt;!-- add packages used, system details and versions  --&gt;</span></span>
<span id="cb28-831"><a href="#cb28-831" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb28-832"><a href="#cb28-832" aria-hidden="true" tabindex="-1"></a><span class="fu"># Session information {.unnumbered .unlisted}</span></span>
<span id="cb28-833"><a href="#cb28-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-834"><a href="#cb28-834" aria-hidden="true" tabindex="-1"></a><span class="in">```{r session info, echo=F}</span></span>
<span id="cb28-835"><a href="#cb28-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-836"><a href="#cb28-836" aria-hidden="true" tabindex="-1"></a><span class="in">sessionInfo()</span></span>
<span id="cb28-837"><a href="#cb28-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-838"><a href="#cb28-838" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>